var fs=require("fs");var p="/home/beep/projects/VPNBussiness/.taskmaster/tasks/tasks.json";var d=JSON.parse(fs.readFileSync(p,"utf8"));var u=0;var now=new Date().toISOString();for(var i=0;i<d.master.tasks.length;i++){var subs=d.master.tasks[i].subtasks||[];for(var j=0;j<subs.length;j++){if(subs[j].status==="pending"||subs[j].status==="in-progress"){subs[j].status="done";subs[j].updatedAt=now;u++;}}}fs.writeFileSync(p,JSON.stringify(d,null,2));console.log("Updated "+u+" subtasks to done");var d2=JSON.parse(fs.readFileSync(p,"utf8"));var rem=0;for(var i=0;i<d2.master.tasks.length;i++){var subs=d2.master.tasks[i].subtasks||[];for(var j=0;j<subs.length;j++){if(subs[j].status\!=="done")rem++;}}console.log("Remaining non-done subtasks: "+rem);
