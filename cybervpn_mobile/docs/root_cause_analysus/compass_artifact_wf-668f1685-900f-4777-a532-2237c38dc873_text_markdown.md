# 40 –∫–æ—Ä–Ω–µ–≤—ã—Ö –ø—Ä–∏—á–∏–Ω —Å–±–æ–µ–≤ VPN-–∫–ª–∏–µ–Ω—Ç–æ–≤ –Ω–∞ VLESS + Reality

–ü—Ä–æ—Ç–æ–∫–æ–ª Reality ‚Äî –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏ —Å–ª–æ–∂–Ω—ã—Ö –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤ –æ–±—Ö–æ–¥–∞ DPI, –∏ –µ–≥–æ –∫–ª–∏–µ–Ω—Ç—ã –Ω–∞—Å–ª–µ–¥—É—é—Ç —É—è–∑–≤–∏–º–æ—Å—Ç–∏ —Å—Ä–∞–∑—É —Ç—Ä—ë—Ö —É—Ä–æ–≤–Ω–µ–π: —è–¥—Ä–∞ (Xray-core/sing-box), –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã (Android VpnService/iOS Network Extension) –∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ GUI. –ù–∏–∂–µ ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≥–ª—É–±–æ–∫–æ–≥–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∫–∞–∂–¥–æ–π –∏–∑ 40 –ø—Ä–æ–±–ª–µ–º —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ –∫–æ—Ä–Ω–µ–≤—ã–º–∏ –ø—Ä–∏—á–∏–Ω–∞–º–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–æ–¥–∞, API –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã. –ö–∞–∂–¥–∞—è –ø—Ä–∏—á–∏–Ω–∞ actionable ‚Äî —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –º–æ–∂–µ—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ—ë –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã—Ö –æ—à–∏–±–æ–∫.

---

## 1. ¬´–ü–æ–¥–∫–ª—é—á–µ–Ω–æ, –Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç¬ª ‚Äî VPN –∞–∫—Ç–∏–≤–µ–Ω, —Ç—Ä–∞—Ñ–∏–∫ –Ω–µ –∏–¥—ë—Ç

**–ü—Ä–∏—á–∏–Ω–∞ 1 ‚Äî Silent fallback Reality.** –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Reality –ø—Ä–µ–¥—É—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç –º–æ–ª—á–∞–ª–∏–≤—ã–π fallback: –ø—Ä–∏ –Ω–µ—É–¥–∞—á–Ω–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç–∞ —Å–µ—Ä–≤–µ—Ä –Ω–µ —Ä–∞–∑—Ä—ã–≤–∞–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ, –∞ –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç —Ç—Ä–∞—Ñ–∏–∫ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π —Ü–µ–ª–µ–≤–æ–π —Å–∞–π—Ç (dest). –í –∫–æ–¥–µ `XTLS/REALITY/tls.go` (—Å—Ç—Ä–æ–∫–∏ 86‚Äì110) –ø—Ä–∏ –ø—Ä–æ–≤–∞–ª–µ AEAD-—Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏ SessionID, –Ω–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏–∏ shortId, –≤–µ—Ä—Å–∏–∏ –∏–ª–∏ timestamp —Å–µ—Ä–≤–µ—Ä –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `hs.c.conn = conn` ‚Üí fallback. –ö–ª–∏–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç TLS-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ, VPN-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç connected, –Ω–æ –ø—Ä–æ–∫—Å–∏ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç. –≠—Ç–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ –≤ Issues #2724, #2728 Xray-core.

**–ü—Ä–∏—á–∏–Ω–∞ 2 ‚Äî Sniffing + destOverride –∫–æ–Ω—Ñ–ª–∏–∫—Ç.** –ï—Å–ª–∏ –≤–∫–ª—é—á—ë–Ω sniffing —Å `destOverride: ["tls"]`, –∫–ª–∏–µ–Ω—Ç –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç destination –Ω–∞ –æ—Å–Ω–æ–≤–µ SNI. –ü–æ—Å–∫–æ–ª—å–∫—É SNI –≤ Reality —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–æ–º–µ–Ω —Ü–µ–ª–µ–≤–æ–≥–æ —Å–∞–π—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `www.samsung.com`), sniffing –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç —Ç—Ä–∞—Ñ–∏–∫ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π IP Samsung –≤–º–µ—Å—Ç–æ VPN-—Å–µ—Ä–≤–µ—Ä–∞. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ –≤ Discussion #3307 Xray-core.

**–ü—Ä–∏—á–∏–Ω–∞ 3 ‚Äî DNS-–∑–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏–µ.** –ö–ª–∏–µ–Ω—Ç –ø—ã—Ç–∞–µ—Ç—Å—è —Ä–∞–∑—Ä–µ—à–∏—Ç—å –¥–æ–º–µ–Ω–Ω–æ–µ –∏–º—è —Å–µ—Ä–≤–µ—Ä–∞ —á–µ—Ä–µ–∑ —Å–∞–º VPN-—Ç—É–Ω–Ω–µ–ª—å. –í v2rayNG (Issue #1229) –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –≥–æ–Ω–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π ‚Äî DNS –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ –µ—â—ë –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Ç—É–Ω–Ω–µ–ª—å, `PrepareDomain maxRetry reached`. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–∫–∞–∑–∞–Ω–æ –∞–∫—Ç–∏–≤–Ω—ã–º, –Ω–æ –º–∞—Ä—à—Ä—É—Ç –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω.

**–ü—Ä–∏—á–∏–Ω–∞ 4 ‚Äî –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å flow —Å mux.** `xtls-rprx-vision` –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º —Å multiplexing. –ï—Å–ª–∏ –∫–ª–∏–µ–Ω—Ç –≤–∫–ª—é—á–∞–µ—Ç mux (`"concurrency": 8`), Vision flow –ø–µ—Ä–µ—Å—Ç–∞—ë—Ç —Ä–∞–±–æ—Ç–∞—Ç—å ‚Äî –¥–∞–Ω–Ω—ã–µ –Ω–µ –ø—Ä–æ—Ö–æ–¥—è—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. –í chain-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è—Ö outbound —Å Vision —Ç–∞–∫–∂–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (Issue #2664).

**–ü—Ä–∏—á–∏–Ω–∞ 5 ‚Äî –¢–°–ü–£ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç ClientHello.** –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ –≤ Issue #5332 (–†–æ—Å—Å–∏—è, 2025): –¢–°–ü–£ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç TLS ClientHello –≤ —Ç—Ä–∞–Ω–∑–∏—Ç–µ, –ª–æ–º–∞—è AEAD-—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ SessionID. –°–µ—Ä–≤–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç `failed to read client hello` ‚Üí fallback. –°–º–µ–Ω–∞ fingerprint –∏ SNI –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç; –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –¥—Ä—É–≥–æ–≥–æ ISP —Ä–∞–±–æ—Ç–∞–µ—Ç.

---

## 2. VPN –æ—Ç–∫–ª—é—á–∞–µ—Ç—Å—è –ø—Ä–∏ –∑–∞—Å—ã–ø–∞–Ω–∏–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ / –≤ —Ñ–æ–Ω–µ

**–ü—Ä–∏—á–∏–Ω–∞ 1 ‚Äî Android Doze Mode.** –í –≥–ª—É–±–æ–∫–æ–º Doze –¥–∞–∂–µ foreground service —Ç–µ—Ä—è–µ—Ç —Å–µ—Ç–µ–≤–æ–π –¥–æ—Å—Ç—É–ø. v2rayNG –Ω–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç `ACTION_REQUEST_IGNORE_BATTERY_OPTIMIZATIONS` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `PowerManager.PARTIAL_WAKE_LOCK`, –ø–æ–∑–≤–æ–ª—è—è CPU –∑–∞—Å—ã–ø–∞—Ç—å –∏ –ø—Ä–µ—Ä—ã–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –ø–∞–∫–µ—Ç–æ–≤ –≤ Go-runtime.

**–ü—Ä–∏—á–∏–Ω–∞ 2 ‚Äî OEM-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ kill-–º–µ—Ö–∞–Ω–∏–∑–º—ã.** Xiaomi MIUI: Battery Saver —É–±–∏–≤–∞–µ—Ç foreground services, Autostart –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –æ—Ç–∫–ª—é—á—ë–Ω. Huawei EMUI 9+: PowerGenie –∑–∞–≤–µ—Ä—à–∞–µ—Ç –≤—Å–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–µ –≤ whitelist, –∏ –¥–æ–±–∞–≤–∏—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ. Samsung: Sleeping apps + Adaptive battery —á–µ—Ä–µ–∑ ML —É–±–∏–≤–∞—é—Ç VPN-–ø—Ä–æ—Ü–µ—Å—Å. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: dontkillmyapp.com.

**–ü—Ä–∏—á–∏–Ω–∞ 3 ‚Äî iOS Network Extension memory limits.** NEPacketTunnelProvider –æ–≥—Ä–∞–Ω–∏—á–µ–Ω **15 –ú–ë** –Ω–∞ iOS 14- –∏ **~50 –ú–ë** –Ω–∞ iOS 15+. Xray-core/sing-box –Ω–∞ Go —á–µ—Ä–µ–∑ gomobile –ª–µ–≥–∫–æ –ø—Ä–µ–≤—ã—à–∞—é—Ç —ç—Ç–æ—Ç –ª–∏–º–∏—Ç ‚Üí Jetsam —É–±–∏–≤–∞–µ—Ç extension ‚Üí VPN –æ—Ç–∫–ª—é—á–∞–µ—Ç—Å—è. –ù–∞ iOS 17 –ª–∏–º–∏—Ç –¥–µ-—Ñ–∞–∫—Ç–æ –æ—Å—Ç–∞—ë—Ç—Å—è ~15 –ú–ë (Apple Developer Forums thread/747474).

**–ü—Ä–∏—á–∏–Ω–∞ 4 ‚Äî –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ onTaskRemoved().** v2rayNG –Ω–µ —Ä–µ–∞–ª–∏–∑—É–µ—Ç `onTaskRemoved()` callback –¥–ª—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏ —Å–≤–∞–π–ø–µ –∏–∑ recent apps. Android 14+ —Ç—Ä–µ–±—É–µ—Ç —è–≤–Ω–æ–≥–æ `foregroundServiceType` –≤ –º–∞–Ω–∏—Ñ–µ—Å—Ç–µ.

---

## 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –ª–æ–º–∞—é—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (—Ä–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω—ã–µ –±–∞–≥–∏)

**–ü—Ä–∏—á–∏–Ω–∞ 1 ‚Äî –ú–∏–≥—Ä–∞—Ü–∏—è SplitHTTP‚ÜíXHTTP –≤ Xray-core.** v2rayNG 1.9.8+ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ Xray-core –º–∏–≥—Ä–∏—Ä–æ–≤–∞–ª —Å `SplitHTTP` –Ω–∞ `XHTTP`. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –ø—Ä–µ–¥–ª–∞–≥–∞–ª–æ—Å—å –≤—Ä—É—á–Ω—É—é –º–µ–Ω—è—Ç—å –∫–æ–Ω—Ñ–∏–≥–∏. IP –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∏–∑–º–µ–Ω—ë–Ω —Å `26.26.26.1` –Ω–∞ `10.10.10.1`, –ª–æ–º–∞—è –∫–∞—Å—Ç–æ–º–Ω—ã–µ routing rules. Issue #3908: –ø–æ—Å–ª–µ 1.9.9 Trojan-—É–∑–ª—ã –ø–µ—Ä–µ—Å—Ç–∞–ª–∏ —Ä–∞–±–æ—Ç–∞—Ç—å.

**–ü—Ä–∏—á–∏–Ω–∞ 2 ‚Äî sing-box breaking changes.** –ö–∞–∂–¥–∞—è –º–∞–∂–æ—Ä–Ω–∞—è –≤–µ—Ä—Å–∏—è sing-box –ª–æ–º–∞–µ—Ç –æ–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å: 1.8‚Üí1.9 deprecated `geoip/geosite` –≤ –ø–æ–ª—å–∑—É `rule_set`; 1.9‚Üí1.10 —Å–ª–æ–º–∞–ª `fakeip` –∫–∞–∫ default DNS; 1.10‚Üí1.11 deprecated legacy special outbounds; 1.11‚Üí1.12 –Ω–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç DNS. Hiddify –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫—É `ray2sing` –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏, –∏ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ sing-box core —Å—Ç–∞—Ä—ã–µ —Å–∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–º–∏.

**–ü—Ä–∏—á–∏–Ω–∞ 3 ‚Äî –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ schema versioning.** –ù–∏ Xray-core, –Ω–∏ sing-box –Ω–µ –∏–º–µ—é—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ schema versioning —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –º–∏–≥—Ä–∞—Ü–∏–µ–π. sing-box –≤—ã–≤–æ–¥–∏—Ç deprecation warnings, –Ω–æ –Ω–µ –º–∏–≥—Ä–∏—Ä—É–µ—Ç —Å—Ç–∞—Ä—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã.

**–ü—Ä–∏—á–∏–Ω–∞ 4 ‚Äî –ö–æ–Ω—Ñ–ª–∏–∫—Ç UI-–Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏ custom config.** –í v2rayNG (Issue #4196) –ø—Ä–∞–≤–∏–ª–∞ routing –∏–∑ UI –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—é—Ç –ø—Ä–∞–≤–∏–ª–∞ –∏–∑ custom config ‚Äî –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è—Ö –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å—Å—è.

---

## 4. –ö—Ä–∞—à–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∏–ª–∏ –≤–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã

**–ü—Ä–∏—á–∏–Ω–∞ 1 ‚Äî OOM –≤ iOS Network Extension.** sing-box Issue #2857: –ø—Ä–∏ speedtest –ø–∞–º—è—Ç—å —Ä–∞—Å—Ç—ë—Ç –¥–æ 40 –ú–ë+ ‚Üí VPN disconnect. –í—Å–µ iOS-–∫–ª–∏–µ–Ω—Ç—ã (Shadowrocket, FoXray, Streisand, V2Box) –∑–∞–ø—É—Å–∫–∞—é—Ç proxy core –≤–Ω—É—Ç—Ä–∏ Network Extension —Å –∂—ë—Å—Ç–∫–∏–º –ª–∏–º–∏—Ç–æ–º –ø–∞–º—è—Ç–∏.

**–ü—Ä–∏—á–∏–Ω–∞ 2 ‚Äî SIGABRT –≤ Go runtime.** NekoBox Issue #280: `Fatal signal 6 (SIGABRT)` –≤ `libgojni.so`. Hiddify Issue #926: `panic: runtime error: slice bounds out of range [:194] with capacity 123` –≤ `fragmentConn.Write`. Go panic –Ω–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç—Å—è Java/Kotlin —á–µ—Ä–µ–∑ try-catch ‚Äî —É–±–∏–≤–∞–µ—Ç native-–ø—Ä–æ—Ü–µ—Å—Å.

**–ü—Ä–∏—á–∏–Ω–∞ 3 ‚Äî ForegroundServiceDidNotStartInTimeException.** v2rayNG Issue #2597: Android —Ç—Ä–µ–±—É–µ—Ç `startForeground()` –≤ —Ç–µ—á–µ–Ω–∏–µ **5 —Å–µ–∫—É–Ω–¥**. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Go runtime + Xray-core + –∑–∞–≥—Ä—É–∑–∫–∞ geoip.dat/geosite.dat –ø—Ä–µ–≤—ã—à–∞–µ—Ç –ª–∏–º–∏—Ç –Ω–∞ —Å–ª–∞–±—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö ‚Üí crash –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ VPN.

**–ü—Ä–∏—á–∏–Ω–∞ 4 ‚Äî NullPointerException –æ—Ç ProGuard.** v2rayNG Issue #4398: –ø—Ä–∏ R8/ProGuard –º–∏–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏ DTO-–∫–ª–∞—Å—Å—ã –æ–±—Ñ—É—Å—Ü–∏—Ä—É—é—Ç—Å—è, JSON-–¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥–æ–≤ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç null ‚Üí NPE ‚Üí crash.

---

## 5. –ü–æ–≤—ã—à–µ–Ω–Ω—ã–π —Ä–∞—Å—Ö–æ–¥ –±–∞—Ç–∞—Ä–µ–∏ / –ø–µ—Ä–µ–≥—Ä–µ–≤

**–ü—Ä–∏—á–∏–Ω–∞ 1 ‚Äî gVisor userspace TCP stack.** sing-box Issue #3382: `"stack": "gvisor"` –≤—ã–∑—ã–≤–∞–µ—Ç –∞–Ω–æ–º–∞–ª—å–Ω—ã–π —Ä–æ—Å—Ç CPU. gVisor netstack ‚Äî –ø–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è TCP/IP –≤ userspace –Ω–∞ Go, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—â–∞—è –≤—Å–µ TCP-–º–µ—Ö–∞–Ω–∏–∑–º—ã (–æ–∫–Ω–∞, retransmission, congestion control, SACK). –ö–∞–∂–¥—ã–π –ø–∞–∫–µ—Ç —Ç—Ä–µ–±—É–µ—Ç context switch kernel‚Üîuserspace. **TUN-mode –ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç –≤ 2‚Äì5√ó –±–æ–ª—å—à–µ CPU** –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å proxy-mode.

**–ü—Ä–∏—á–∏–Ω–∞ 2 ‚Äî DNS resolution loops.** sing-box Issue #1925: DNS Client process —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –Ω–∞—Ä–∞—â–∏–≤–∞–µ—Ç CPU –∏–∑-–∑–∞ –º–∞—Å—Å–æ–≤—ã—Ö STUN-–ø–∞–∫–µ—Ç–æ–≤, —Å–æ–∑–¥–∞—é—â–∏—Ö feedback loop. Issue #2418: `route_exclude_address_set` –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ 100% CPU.

**–ü—Ä–∏—á–∏–Ω–∞ 3 ‚Äî Goroutine leaks –≤ Xray-core.** Issues #5207, #1411: —Å–∫–∞—á–∫–∏ CPU –¥–æ 200‚Äì500% –ø—Ä–∏ Reality+XTLS. –ö–∞–∂–¥–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –ø–æ—Ä–æ–∂–¥–∞–µ—Ç –≥–æ—Ä—É—Ç–∏–Ω—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –Ω–µ –∑–∞–≤–µ—Ä—à–∞—Ç—å—Å—è –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö/—Ç–∞–π–º–∞—É—Ç–∞—Ö, –Ω–∞–∫–∞–ø–ª–∏–≤–∞—è—Å—å.

**–ü—Ä–∏—á–∏–Ω–∞ 4 ‚Äî Overhead —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –º–∏–Ω–∏–º–∞–ª–µ–Ω.** VLESS —Å–∞–º –Ω–µ —à–∏—Ñ—Ä—É–µ—Ç, Reality –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π TLS 1.3, XTLS-Vision –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º splice –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ. –û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ –ø–µ—Ä–µ–≥—Ä–µ–≤–∞ ‚Äî **–Ω–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ, –∞ userspace TCP stack –∏ TUN-mode**.

---

## 6. –û—à–∏–±–∫–∏ –∏–º–ø–æ—Ä—Ç–∞ –ø–æ–¥–ø–∏—Å–æ–∫ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

**–ü—Ä–∏—á–∏–Ω–∞ 1 ‚Äî –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –ø–∞—Ä—Å–µ—Ä–æ–≤ VLESS URI.** Hiddify Issue #1899: –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ `vless://` URI –≤—ã–¥–∞—ë—Ç `Unsupported scheme 'vless'` ‚Äî –æ–∂–∏–¥–∞–µ—Ç subscription URL. v2rayNG Issue #2237: –ø–∞—Ä—Å–µ—Ä —Ç–µ—Ä—è–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã Reality (pbk, sid, sni) –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –ø–æ–¥–ø–∏—Å–∫–∏. 3x-ui Issue #3244: subscription URL –Ω–µ –ø–∞—Ä—Å–∏—Ç—Å—è –≤ V2Box/Hiddify ‚Äî `0 nodes imported`.

**–ü—Ä–∏—á–∏–Ω–∞ 2 ‚Äî Base64 encoding.** Standard Base64 (`+/=`) vs URL-safe (`-_`): —Ä–∞–∑–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã –æ–∂–∏–¥–∞—é—Ç —Ä–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã. BOM –∏ CRLF –æ—Ç Windows-—Å–µ—Ä–≤–µ—Ä–æ–≤ –ª–æ–º–∞—é—Ç –¥–µ–∫–æ–¥–µ—Ä—ã. vmess –∏—Å–ø–æ–ª—å–∑—É–µ—Ç base64-encoded JSON, VLESS ‚Äî URI-—Ñ–æ—Ä–º–∞—Ç: –ø—É—Ç–∞–Ω–∏—Ü–∞ –ø—Ä–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏.

**–ü—Ä–∏—á–∏–Ω–∞ 3 ‚Äî –†–∞–∑–ª–∏—á–∏—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ URI‚ÜíJSON –º–µ–∂–¥—É core.** v2rayNG (Xray): `outbounds[].streamSettings.realitySettings` —Å –ø–æ–ª—è–º–∏ `publicKey/shortId/spiderX`. Hiddify (sing-box —á–µ—Ä–µ–∑ ray2sing): `outbounds[].tls.reality` —Å –ø–æ–ª—è–º–∏ `public_key/short_id`. –ö–æ–Ω—Ñ–∏–≥ –∏–∑ 3x-ui –¥–ª—è Xray –º–æ–∂–µ—Ç –ø–æ—Ç–µ—Ä—è—Ç—å Reality-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –≤ sing-box —Ñ–æ—Ä–º–∞—Ç.

**–ü—Ä–∏—á–∏–Ω–∞ 4 ‚Äî TLS-–æ—à–∏–±–∫–∏ –ø—Ä–∏ fetch –ø–æ–¥–ø–∏—Å–∫–∏.** v2rayNG Issue #3181: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Android 7 –∏–∑-–∑–∞ –ø—Ä–æ–±–ª–µ–º TLS 1.3. HTTPS –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö IP, —á—Ç–æ –ª–æ–º–∞–µ—Ç self-signed —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã. –ü—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ–º VPN –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏ –º–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å (circular dependency).

---

## 7. –£—Ç–µ—á–∫–∏ DNS –∏ –æ—à–∏–±–∫–∏ DNS-—Ä–µ–∑–æ–ª–≤–∏–Ω–≥–∞

**–ü—Ä–∏—á–∏–Ω–∞ 1 ‚Äî –£—Ç–µ—á–∫–∞ –¥–æ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ TUN.** –ú–µ–∂–¥—É `VpnService.prepare()` –∏ `establish()` DNS-–∑–∞–ø—Ä–æ—Å—ã —É—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ —Ä–µ–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å. –†–µ–∑–æ–ª–≤–∏–Ω–≥ –∞–¥—Ä–µ—Å–∞ VPN-—Å–µ—Ä–≤–µ—Ä–∞ –Ω–µ–∏–∑–±–µ–∂–Ω–æ –∏–¥—ë—Ç –≤ –æ–±—Ö–æ–¥ —Ç—É–Ω–Ω–µ–ª—è.

**–ü—Ä–∏—á–∏–Ω–∞ 2 ‚Äî System proxy mode –Ω–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç DNS.** –í —Ä–µ–∂–∏–º–µ SOCKS/HTTP proxy sing-box –Ω–µ –º–æ–∂–µ—Ç –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏—Ç—å DNS-—Ç—Ä–∞—Ñ–∏–∫ –Ω–∞ —É—Ä–æ–≤–Ω–µ —è–¥—Ä–∞ ‚Äî –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–π —Ä–µ–∑–æ–ª–≤–µ—Ä –Ω–∞–ø—Ä—è–º—É—é. –≠—Ç–æ **—Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è —É—Ç–µ—á–∫–∞**.

**–ü—Ä–∏—á–∏–Ω–∞ 3 ‚Äî IPv6 DNS leaks.** –ï—Å–ª–∏ VPN –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ IPv4 –º–∞—Ä—à—Ä—É—Ç—ã (`addRoute("0.0.0.0/0")`) –±–µ–∑ IPv6 (`addRoute("::/0")`), –≤—Å–µ IPv6 DNS-–∑–∞–ø—Ä–æ—Å—ã —É—Ö–æ–¥—è—Ç –Ω–∞–ø—Ä—è–º—É—é. sing-box Issue #1399: Android-–∫–ª–∏–µ–Ω—Ç –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç IPv6, –∏–≥–Ω–æ—Ä–∏—Ä—É—è `prefer_ipv4`.

**–ü—Ä–∏—á–∏–Ω–∞ 4 ‚Äî Google Play Services hardcoded DNS.** –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç `ConnectivityManager` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è DNS –∏–∑ –¥—Ä—É–≥–æ–≥–æ —Å–µ—Ç–µ–≤–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, –º–∏–Ω—É—è VPN DNS.

---

## 8. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ XHTTP/SplitHTTP —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞

**–ü—Ä–∏—á–∏–Ω–∞ 1 ‚Äî sing-box –ø—Ä–∏–Ω—Ü–∏–ø–∏–∞–ª—å–Ω–æ –æ—Ç–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å XHTTP.** –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ nekohasekai —Å—á–∏—Ç–∞–µ—Ç transport-–ø—Ä–æ—Ç–æ–∫–æ–ª—ã *ray-—ç–∫–æ—Å–∏—Å—Ç–µ–º—ã –ø—Ä–∏–≤–∞—Ç–Ω—ã–º–∏ –∏ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏. Issue #3550 —Å –∑–∞–ø—Ä–æ—Å–æ–º –ø–æ–¥–¥–µ—Ä–∂–∫–∏ XHTTP –±—ã–ª **—É–¥–∞–ª—ë–Ω**. –í—Å–µ –∫–ª–∏–µ–Ω—Ç—ã –Ω–∞ sing-box (Hiddify, NekoBox) –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ª–∏—à–µ–Ω—ã XHTTP.

**–ü—Ä–∏—á–∏–Ω–∞ 2 ‚Äî –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —ç–∫–æ—Å–∏—Å—Ç–µ–º.** Xray-core –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç XHTTP —Å v24.10.31 (4 —Ä–µ–∂–∏–º–∞: packet-up, stream-up, stream-one, stream-down). sing-box ‚Äî –Ω–µ—Ç –∏ –Ω–µ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç. –ö–ª–∏–µ–Ω—Ç—ã –Ω–∞ Xray-core (v2rayNG, V2Box v9.0+, Streisand, FoXray) –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç XHTTP –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ core.

**–ü—Ä–∏—á–∏–Ω–∞ 3 ‚Äî –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å.** XHTTP —Ç—Ä–µ–±—É–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ HTTP-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏, priority queue —Å min-heap –¥–ª—è –ø–µ—Ä–µ—É–ø–æ—Ä—è–¥–æ—á–∏–≤–∞–Ω–∏—è –ø–∞–∫–µ—Ç–æ–≤, HTTP/3 —á–µ—Ä–µ–∑ quic-go, XmuxManager –¥–ª—è –ø—É–ª–∏–Ω–≥–∞. –î–ª—è iOS Network Extension —Å –ª–∏–º–∏—Ç–æ–º –ø–∞–º—è—Ç–∏ —ç—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ –∫—Ä–∏—Ç–∏—á–Ω–æ.

---

## 9. –ù–∞–≤—è–∑—á–∏–≤–∞—è —Ä–µ–∫–ª–∞–º–∞ –±–µ–∑ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–ª–∞—Ç–Ω–æ–≥–æ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è

**–ü—Ä–∏—á–∏–Ω–∞ 1 ‚Äî V2Box –∫–∞–∫ –≥–ª–∞–≤–Ω—ã–π –Ω–∞—Ä—É—à–∏—Ç–µ–ª—å.** Closed-source –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç techlaim/Hexa Software. –ù–∞ iOS –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–µ –≤–∏–¥–µ–æ—Ä–æ–ª–∏–∫–∏ –∫–∞–∂–¥—ã–π ~5-–π –∑–∞–ø—É—Å–∫, –¥–æ–ª–≥–æ–µ –≤—Ä–µ–º—è –±–µ–∑ –æ–ø—Ü–∏–∏ –ø–ª–∞—Ç–Ω–æ–≥–æ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è. –ù–∞ Android: ¬´Every single touch triggers a new ad.¬ª NowSecure –æ–±–Ω–∞—Ä—É–∂–∏–ª —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è –≤ privacy declarations.

**–ü—Ä–∏—á–∏–Ω–∞ 2 ‚Äî Open-source –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã —á–∏—Å—Ç—ã.** v2rayNG, Hiddify, NekoBox ‚Äî **–±–µ–∑ —Ä–µ–∫–ª–∞–º—ã**, open-source. Shadowrocket ‚Äî –ø–ª–∞—Ç–Ω–æ–µ ($2.99), –±–µ–∑ —Ä–µ–∫–ª–∞–º—ã. FoXray, Streisand ‚Äî –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ, –±–µ–∑ —Ä–µ–∫–ª–∞–º—ã.

**–ü—Ä–∏—á–∏–Ω–∞ 3 ‚Äî –í–ª–∏—è–Ω–∏–µ ad SDK –Ω–∞ VPN.** –†–µ–∫–ª–∞–º–Ω—ã–µ SDK –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç —Ñ–æ–Ω–æ–≤—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∫—Ä–µ–∞—Ç–∏–≤–æ–≤ (+5‚Äì15% —ç–Ω–µ—Ä–≥–æ–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –ø–æ MIT). –î–ª—è VPN-–∫–ª–∏–µ–Ω—Ç–∞ —ç—Ç–æ –¥–≤–æ–π–Ω–æ–π —É–¥–∞—Ä –Ω–∞ –±–∞—Ç–∞—Ä–µ—é. –†–µ–∫–ª–∞–º–Ω—ã–µ SDK —Å–æ–±–∏—Ä–∞—é—Ç device ID, IP ‚Äî –ø—Ä—è–º–æ–π –∫–æ–Ω—Ñ–ª–∏–∫—Ç —Å –∑–∞–¥–∞—á–µ–π VPN.

---

## 10. –£–¥–∞–ª–µ–Ω–∏–µ –∏–∑ –º–∞–≥–∞–∑–∏–Ω–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

**–ü—Ä–∏—á–∏–Ω–∞ 1 ‚Äî –ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è.** –ö–∏—Ç–∞–π (2017): Apple —É–¥–∞–ª–∏–ª–∞ –≤—Å–µ –∫—Ä—É–ø–Ω—ã–µ VPN –∏–∑ App Store –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é MIIT. –†–æ—Å—Å–∏—è (2024‚Äì2025): –†–æ—Å–∫–æ–º–Ω–∞–¥–∑–æ—Ä –Ω–∞–ø—Ä–∞–≤–∏–ª **212 –ø—Ä–∏–∫–∞–∑–æ–≤** –Ω–∞ —É–¥–∞–ª–µ–Ω–∏–µ –∏–∑ Google Play, Google —É–¥–∞–ª–∏–ª —Ç–æ–ª—å–∫–æ 6. Apple —É–¥–∞–ª–∏–ª–∞ **60+ VPN** –∏–∑ —Ä–æ—Å—Å–∏–π—Å–∫–æ–≥–æ App Store. –ö –∞–ø—Ä–µ–ª—é 2025 —É–¥–∞–ª–µ–Ω–∞ –¥–∞–∂–µ Amnezia VPN.

**–ü—Ä–∏—á–∏–Ω–∞ 2 ‚Äî Apple Guideline 5.4.** –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ NEVPNManager API, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–∞–∫ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –º–µ—Å—Ç–Ω—ã–º –∑–∞–∫–æ–Ω–∞–º, —Ä–∞—Å–∫—Ä—ã—Ç–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ —Å–±–æ—Ä–µ –¥–∞–Ω–Ω—ã—Ö. Google Play: —Å 2022 –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞ –¥–µ–∫–ª–∞—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Ñ–æ—Ä–º–∞ VpnService, —Å 2024 ‚Äî —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–∞–∫ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è.

**–ü—Ä–∏—á–∏–Ω–∞ 3 ‚Äî –û–±—Ö–æ–¥–Ω—ã–µ –ø—É—Ç–∏.** GitHub APK, F-Droid, TestFlight (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω 10K –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏), –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ Apple ID –∏–∑ –¥—Ä—É–≥–∏—Ö —Ä–µ–≥–∏–æ–Ω–æ–≤, sideloading —á–µ—Ä–µ–∑ AltStore.

---

## 11. –°–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å WhatsApp/Instagram/Telegram

**–ü—Ä–∏—á–∏–Ω–∞ 1 ‚Äî QUIC/UDP —á–µ—Ä–µ–∑ VLESS.** Instagram –∏ Meta-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç QUIC (HTTP/3) –Ω–∞ UDP. Xray-core `dokodemo-door` –Ω–µ –º–æ–∂–µ—Ç —Å–Ω–∏—Ñ–∏—Ç—å QUIC UDP (Issue #328). –ë–µ–∑ —è–≤–Ω–æ–≥–æ `destOverride: ["quic"]` QUIC-—Ç—Ä–∞—Ñ–∏–∫ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä—É–µ—Ç—Å—è –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ ‚Äî –º–µ–¥–∏–∞ –Ω–µ –≥—Ä—É–∑–∏—Ç—Å—è.

**–ü—Ä–∏—á–∏–Ω–∞ 2 ‚Äî Long-lived connections –∏ —Ç–∞–π–º–∞—É—Ç—ã.** Telegram MTProto –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–µ—Å—Å–∏—é –¥–µ—Å—è—Ç–∫–∏ –º–∏–Ω—É—Ç. Xray-core `connIdle` (–¥–µ—Ñ–æ–ª—Ç **300 —Å–µ–∫—É–Ω–¥**) –ø—Ä–µ–∂–¥–µ–≤—Ä–µ–º–µ–Ω–Ω–æ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç idle-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ ‚Äî –∫–ª–∏–µ–Ω—Ç –≤–∏–¥–∏—Ç ¬´Connecting‚Ä¶¬ª. Issue #4729: `broken pipe` –ø—Ä–∏ –ø—Ä–µ–∂–¥–µ–≤—Ä–µ–º–µ–Ω–Ω–æ–º –∑–∞–∫—Ä—ã—Ç–∏–∏ SOCKS-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.

**–ü—Ä–∏—á–∏–Ω–∞ 3 ‚Äî Sniffing –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç destination.** –ü—Ä–∏ `destOverride: ["tls", "http"]` —è–¥—Ä–æ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç SNI –∏ –ø–æ–¥–º–µ–Ω—è–µ—Ç IP –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è. –î–ª—è WhatsApp —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π DNS-–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –∏ certificate pinning —ç—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –Ω–∞ –Ω–µ–≤–µ—Ä–Ω—ã–π –±—ç–∫–µ–Ω–¥.

**–ü—Ä–∏—á–∏–Ω–∞ 4 ‚Äî Media upload —á–µ—Ä–µ–∑ CDN.** WhatsApp proxy Issue #291: –º–µ–¥–∏–∞ –¥–∞—ë—Ç `Media Unavailable` ‚Äî upload –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–µ TCP-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∫ CDN (`mmg-fna.whatsapp.net`), –∫–æ—Ç–æ—Ä—ã–µ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä—É—é—Ç—Å—è –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏–∑-–∑–∞ DNS resolution –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –ø—Ä–æ–∫—Å–∏ vs –∫–ª–∏–µ–Ω—Ç–∞.

---

## 12. –°–ª–æ–∂–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –Ω–µ—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–ü—Ä–∏—á–∏–Ω–∞ 1 ‚Äî –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ ¬´power-user first¬ª.** –í—Å–µ –∫–ª–∏–µ–Ω—Ç—ã ‚Äî GUI-–æ–±—ë—Ä—Ç–∫–∏ –Ω–∞–¥ CLI-—è–¥—Ä–∞–º–∏. v2rayNG —ç–∫—Å–ø–æ–Ω–∏—Ä—É–µ—Ç –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã Xray-core: routing rules, DNS settings, mux, sniffing, fragment. –ù–µ—Ç wizard'–∞, –Ω–µ—Ç onboarding. Issue #4196: –∫–æ–Ω—Ñ–ª–∏–∫—Ç UI-–ø—Ä–∞–≤–∏–ª –∏ custom config.

**–ü—Ä–∏—á–∏–Ω–∞ 2 ‚Äî –≠–∫—Å–ø–æ–∑–∏—Ü–∏—è –ø—Ä–æ—Ç–æ–∫–æ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.** VLESS+Reality —Ç—Ä–µ–±—É–µ—Ç ~12 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (uuid, address, flow, encryption, security, sni, fp, pbk, sid, spx, type). –í—Å–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ö. –ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–µ VPN —Å–∫—Ä—ã–≤–∞—é—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç—å –∑–∞ –æ–¥–Ω–æ–π –∫–Ω–æ–ø–∫–æ–π.

**–ü—Ä–∏—á–∏–Ω–∞ 3 ‚Äî –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ UX-–∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π.** –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏-–æ–¥–∏–Ω–æ—á–∫–∏ (2dust, MatsuriDayo) –Ω–µ –∏–º–µ—é—Ç –±—é–¥–∂–µ—Ç–æ–≤ –Ω–∞ UX. Issue #3614: –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ —É–ª—É—á—à–µ–Ω–∏—é UI –ø–æ—Å—Ç—É–ø–∞—é—Ç –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –Ω–µ –æ—Ç —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤.

---

## 13. –°–ª–æ–º–∞–Ω–Ω—ã–π per-app proxy / split tunneling

**–ü—Ä–∏—á–∏–Ω–∞ 1 ‚Äî –í–∑–∞–∏–º–æ–∏—Å–∫–ª—é—á–∞—é—â–∏–µ API.** `addAllowedApplication()` –∏ `addDisallowedApplication()` –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ ‚Äî `UnsupportedOperationException`. Issue #2355: –ø—Ä–∏ whitelist-—Ä–µ–∂–∏–º–µ –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ç–µ—Ä—è—é—Ç –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ç–∏.

**–ü—Ä–∏—á–∏–Ω–∞ 2 ‚Äî iOS: per-app VPN –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω.** Per-app VPN –Ω–∞ iOS –¥–æ—Å—Ç—É–ø–µ–Ω **—Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ MDM**. App Store –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç NEPacketTunnelProvider —Å routing –ø–æ `destinationIP` ‚Äî –Ω–µ–ª—å–∑—è —Ä–∞–∑–ª–∏—á–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ Apple Developer Quinn ¬´The Eskimo!¬ª.

**–ü—Ä–∏—á–∏–Ω–∞ 3 ‚Äî DNS –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏—è.** –î–∞–∂–µ –µ—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–æ –∏–∑ VPN, –µ–≥–æ DNS –º–æ–∂–µ—Ç –∏–¥—Ç–∏ —á–µ—Ä–µ–∑ VPN DNS ‚Üí –ø–æ–ª—É—á–∞–µ—Ç IP, –¥–æ—Å—Ç—É–ø–Ω—ã–π —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ —Ç—É–Ω–Ω–µ–ª—å, –Ω–æ —Ç—Ä–∞—Ñ–∏–∫ –∏–¥—ë—Ç –Ω–∞–ø—Ä—è–º—É—é ‚Üí connection failure. Hiddify Issue #1609: YouTube –ø–µ—Ä–µ—Å—Ç–∞—ë—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–∏ split tunneling.

**–ü—Ä–∏—á–∏–Ω–∞ 4 ‚Äî bindProcessToNetwork() –æ–±—Ö–æ–¥–∏—Ç TUN.** Android API –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º –ø—Ä–∏–≤—è–∑–∞—Ç—å—Å—è –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å–µ—Ç–∏, –º–∏–Ω—É—è TUN-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å. v2rayNG Issue #4927: —Ç—Ä–∞—Ñ–∏–∫ –Ω–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–¥—ë—Ç —á–µ—Ä–µ–∑ VPN.

---

## 14. –°–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ —Å–±–æ–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ VLESS + Reality

**–ü—Ä–∏—á–∏–Ω–∞ 1 ‚Äî –°–µ—Ä–≤–µ—Ä–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è Reality.** –ß–µ—Ç—ã—Ä–µ —É—Å–ª–æ–≤–∏—è –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ: ClientVer –≤ –¥–æ–ø—É—Å—Ç–∏–º–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ, |time_diff| ‚â§ maxTimeDiff, shortId –≤ —Å–ø–∏—Å–∫–µ, AEAD-—Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ —É—Å–ø–µ—à–Ω–∞. –õ—é–±–æ–µ –Ω–µ–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ ‚Üí silent fallback. –ß–∞—Å—Ç–∞—è –æ—à–∏–±–∫–∞: `serverName: "samsung.com"` –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ vs `"www.samsung.com"` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.

**–ü—Ä–∏—á–∏–Ω–∞ 2 ‚Äî DPI –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç key_share.** Issue #2728: DPI/–æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç `keyShare.group` –≤ ClientHello ‚Äî –≤–º–µ—Å—Ç–æ X25519 (29) –ø–æ—è–≤–ª—è—é—Ç—Å—è —Å–ª—É—á–∞–π–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è. –ö–æ–¥ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç group, –ø—Ä–∏ –Ω–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏–∏ ‚Üí `hs.c.conn == conn: false`.

**–ü—Ä–∏—á–∏–Ω–∞ 3 ‚Äî –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å Xray-core –∏ sing-box.** sing-box Issue #2916: –∫–ª–∏–µ–Ω—Ç sing-box v1.11.6 –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –Ω–æ–≤—ã–º–∏ –≤–µ—Ä—Å–∏—è–º–∏ —Å–µ—Ä–≤–µ—Ä–∞ Xray-core ‚Äî —Ä–∞–∑–ª–∏—á–∏—è –≤ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–∏ SessionID.

**–ü—Ä–∏—á–∏–Ω–∞ 4 ‚Äî DPI-–¥–µ—Ç–µ–∫—Ü–∏—è.** SNI-redirect (Issue #2768): DPI –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π IP –¥–æ–º–µ–Ω–∞ –∏–∑ SNI. –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑: IP —Å–µ—Ä–≤–µ—Ä–∞ ‚â† IP –¥–æ–º–µ–Ω–∞ –∏–∑ SNI, –Ω–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ ASN.

---

## 15. –ù–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–∏ —Å–º–µ–Ω–µ —Å–µ—Ç–∏

**–ü—Ä–∏—á–∏–Ω–∞ 1 ‚Äî VpnService –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–º–µ–Ω—É —Å–µ—Ç–∏.** `VpnService` –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç callback –¥–ª—è —Å–µ—Ç–µ–≤—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π. –ö–ª–∏–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å `ConnectivityManager.NetworkCallback`. `VpnService.protect()` –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç —Å–æ–∫–µ—Ç –∫ —Ç–µ–∫—É—â–µ–º—É default interface; –ø—Ä–∏ —Å–º–µ–Ω–µ —Å–µ—Ç–∏ –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ —Å–æ–∫–µ—Ç—ã –æ—Å—Ç–∞—é—Ç—Å—è –Ω–∞ —Å—Ç–∞—Ä–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ.

**–ü—Ä–∏—á–∏–Ω–∞ 2 ‚Äî Routes –Ω–µ–ª—å–∑—è –æ–±–Ω–æ–≤–∏—Ç—å –±–µ–∑ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏—è TUN.** `VpnService API allows routes to be set on connect only` ‚Äî —É–¥–∞–ª–∏—Ç—å –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å routes –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –±–µ–∑ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏—è tun interface —á–µ—Ä–µ–∑ –Ω–æ–≤—ã–π `establish()`.

**–ü—Ä–∏—á–∏–Ω–∞ 3 ‚Äî iOS: –∫–ª–∏–µ–Ω—Ç—ã –Ω–µ —Ä–µ–∞–ª–∏–∑—É—é—Ç reasserting.** –ü—Ä–∏ —Å–º–µ–Ω–µ —Å–µ—Ç–∏ –Ω—É–∂–Ω–æ: `reasserting = true` ‚Üí –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ ‚Üí –æ–±–Ω–æ–≤–∏—Ç—å NETunnelNetworkSettings ‚Üí `reasserting = false`. –ú–Ω–æ–≥–∏–µ –∫–ª–∏–µ–Ω—Ç—ã —ç—Ç–æ–≥–æ –Ω–µ –¥–µ–ª–∞—é—Ç. Apple Developer Forums thread/661901: –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –Ω–∞–¥—ë–∂–Ω—ã–π —Å–ø–æ—Å–æ–± ‚Äî VPN On Demand.

**–ü—Ä–∏—á–∏–Ω–∞ 4 ‚Äî Xray-core –Ω–µ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç —Å–º–µ–Ω—É —Å–µ—Ç–∏.** Xray-core –Ω–µ –∏–º–µ–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è —Å–º–µ–Ω—ã —Å–µ—Ç–∏ ‚Äî —ç—Ç–æ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å GUI-–æ–±—ë—Ä—Ç–∫–∏. sing-box `auto_detect_interface: true` —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —É—Ä–æ–≤–Ω–µ Go runtime, –Ω–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É—è—Å—å —Å OS-level callbacks.

---

## 16. –ü–µ—Ä–µ–Ω–æ—Å —Ñ—É–Ω–∫—Ü–∏–π –∑–∞ paywall

**–ü—Ä–∏—á–∏–Ω–∞ 1 ‚Äî Shadowrocket: –ø–æ–ª–Ω–∞—è –ø–æ–∫—É–ø–∫–∞ ($2.99).** –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –ø–æ—Å–ª–µ –µ–¥–∏–Ω–æ—Ä–∞–∑–æ–≤–æ–π –ø–æ–∫—É–ø–∫–∏. –ù–µ—Ç –ø–æ–¥–ø–∏—Å–∫–∏ –∏–ª–∏ in-app purchases. –°–∞–º—ã–π –ø–æ–ø—É–ª—è—Ä–Ω—ã–π –ø–ª–∞—Ç–Ω—ã–π –ø—Ä–æ–∫—Å–∏-–∫–ª–∏–µ–Ω—Ç –≤ iOS App Store.

**–ü—Ä–∏—á–∏–Ω–∞ 2 ‚Äî V2Box: freemium —Å —Ä–µ–∫–ª–∞–º–æ–π.** –ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –Ω–∞–≤—è–∑—á–∏–≤–æ–π —Ä–µ–∫–ª–∞–º–æ–π. –ü–æ–¥–ø–∏—Å–∫–∞ ¬´Remove Ads¬ª –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–∑–∂–µ –¥–ª—è Android. –ù–∞ iOS –¥–æ–ª–≥–æ–µ –≤—Ä–µ–º—è –ø–æ–¥–ø–∏—Å–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∞.

**–ü—Ä–∏—á–∏–Ω–∞ 3 ‚Äî Open-source –∫–ª–∏–µ–Ω—Ç—ã –Ω–µ –∏–º–µ—é—Ç paywall.** v2rayNG, Hiddify, NekoBox ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ, –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏–π —Å–æ–∑–¥–∞—ë—Ç –ø—Ä–æ–±–ª–µ–º—É —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ (—Å–º. –ø—Ä–æ–±–ª–µ–º—É 32).

---

## 17. –û—à–∏–±–∫–∏ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è QR-–∫–æ–¥–æ–≤

**–ü—Ä–∏—á–∏–Ω–∞ 1 ‚Äî –í—ã—Å–æ–∫–∞—è –ø–ª–æ—Ç–Ω–æ—Å—Ç—å QR –¥–ª—è Reality.** VLESS+Reality URI —Å–æ–¥–µ—Ä–∂–∏—Ç **~250‚Äì350 —Å–∏–º–≤–æ–ª–æ–≤** (publicKey 43 —Å–∏–º–≤–æ–ª–∞, shortId –¥–æ 16 hex). –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è QR Version 10+ —Å –º–∏–∫—Ä–æ—Å–∫–æ–ø–∏—á–µ—Å–∫–∏–º–∏ –º–æ–¥—É–ª—è–º–∏. –ù–∞ –¥–µ—à—ë–≤—ã—Ö Android –∫–∞–º–µ—Ä–∞ –Ω–µ –º–æ–∂–µ—Ç —Ä–∞–∑—Ä–µ—à–∏—Ç—å —Ç–∞–∫–æ–π QR –ø—Ä–∏ –ø–ª–æ—Ö–æ–º –æ—Å–≤–µ—â–µ–Ω–∏–∏.

**–ü—Ä–∏—á–∏–Ω–∞ 2 ‚Äî –ü–æ—Ç–µ—Ä—è –ø–æ–ª–µ–π –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏.** v2rayN Issue #3469: –ø—Ä–∏ —ç–∫—Å–ø–æ—Ä—Ç–µ Reality QR –ø–æ–ª—è realitySettings (publicKey, shortId) –Ω–µ –≤–∫–ª—é—á–∞–ª–∏—Å—å –≤ URI. Hiddify Issue #1127: –ø–æ—Ä—Ç –Ω–µ –≤–∫–ª—é—á–∞–ª—Å—è –≤ —Å—Å—ã–ª–∫—É.

**–ü—Ä–∏—á–∏–Ω–∞ 3 ‚Äî Non-latin —Å–∏–º–≤–æ–ª—ã –≤ remark.** Fragment (#remark) —Å emoji, —Ñ–∞—Ä—Å–∏, –∫–∏—Ç–∞–π—Å–∫–∏–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ percent-encoded —Ä–∞–∑–Ω—ã–º–∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞–º–∏. Hiddify Issue #263: Reality –∫–æ–Ω—Ñ–∏–≥ –Ω–µ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–ª—Å—è –∏–∑ QR, –Ω–æ —Ä–∞–±–æ—Ç–∞–ª –≤ –¥—Ä—É–≥–∏—Ö –∫–ª–∏–µ–Ω—Ç–∞—Ö.

---

## 18. –î–µ—Ñ–æ–ª—Ç–Ω—ã–π DNS Hiddify (1.1.1.1) –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ç—Ä–∞—Ñ–∏–∫ –≤ –ö–∏—Ç–∞–µ

**–ü—Ä–∏—á–∏–Ω–∞ 1 ‚Äî 1.1.1.1 –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω GFW –Ω–∞ IP-—É—Ä–æ–≤–Ω–µ.** Drop –ø–∞–∫–µ—Ç–æ–≤ + DPI –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ DoT/DoH. Hiddify Issue #975: `1.1.1.1 is blocked in china, all nodes timeout`.

**–ü—Ä–∏—á–∏–Ω–∞ 2 ‚Äî Hardcoded –¥–µ—Ñ–æ–ª—Ç.** –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Hiddify —Å–æ–¥–µ—Ä–∂–∏—Ç `remote-dns-address: udp://1.1.1.1` –∏ `direct-dns-address: 1.1.1.1`. –î–ª—è —Ä–µ–≥–∏–æ–Ω–∞ `cn` `direct-dns` = `223.5.5.5`, –Ω–æ `remote-dns` –æ—Å—Ç–∞—ë—Ç—Å—è `1.1.1.1`. –ó–Ω–∞—á–µ–Ω–∏–µ –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–æ –≤ –º–æ–¥–µ–ª–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Flutter-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

**–ü—Ä–∏—á–∏–Ω–∞ 3 ‚Äî Chicken-and-egg problem.** DNS-–∑–∞–ø—Ä–æ—Å –∫ 1.1.1.1 –∏–¥—ë—Ç **–¥–æ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ VPN-—Ç—É–Ω–Ω–µ–ª—è** –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ —Å–µ—Ç–µ–≤–æ–π —Å—Ç–µ–∫ ‚Üí GFW –±–ª–æ–∫–∏—Ä—É–µ—Ç ‚Üí –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å IP —Å–µ—Ä–≤–µ—Ä–∞ ‚Üí deadlock. –ï—Å–ª–∏ –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞ ‚Äî IP, `remote-dns` —á–µ—Ä–µ–∑ proxy —Ç–æ–∂–µ —Ñ–µ–π–ª–∏—Ç—Å—è, —Ç.–∫. –ø—Ä–æ–∫—Å–∏ –µ—â—ë –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç.

---

## 19. –ù–µ—Ç –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–æ–∫

**–ü—Ä–∏—á–∏–Ω–∞ 1 ‚Äî –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ v2rayNG —è–≤–Ω–æ –æ—Ç–∫–∞–∑–∞–ª—Å—è.** Issue #3862: ¬´Each mobile phone system has different strategies for keeping apps alive, so it is not suitable for all mobile phones.¬ª OEM-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (Doze, Xiaomi Battery Saver, Huawei PowerGenie) –¥–µ–ª–∞—é—Ç –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏ –Ω–µ–Ω–∞–¥—ë–∂–Ω—ã–º–∏.

**–ü—Ä–∏—á–∏–Ω–∞ 2 ‚Äî Circular dependency.** Issue #2237: –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –ø–æ–¥–ø–∏—Å–∫–∏ —á–µ—Ä–µ–∑ VPN –∫ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–º—É —Å–µ—Ä–≤–µ—Ä—É ‚Äî —Å–µ—Ä–≤–µ—Ä –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–º–µ–Ω—ë–Ω ‚Üí –æ–±—Ä—ã–≤ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è ‚Üí –æ–±—Ä—ã–≤ –∑–∞–≥—Ä—É–∑–∫–∏ ‚Üí deadlock. Hiddify —Ä–µ—à–∞–µ—Ç —á–µ—Ä–µ–∑ ¬´try update via proxy, then try direct¬ª.

**–ü—Ä–∏—á–∏–Ω–∞ 3 ‚Äî –ù–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞ subscription update.** Marzban –∏—Å–ø–æ–ª—å–∑—É–µ—Ç HTTP-–∑–∞–≥–æ–ª–æ–≤–æ–∫ `profile-update-interval`, Clash ‚Äî YAML, sing-box ‚Äî —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç. v2rayNG –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–∏ –æ–¥–∏–Ω –∏–∑ –Ω–∏—Ö. Issues #1035, #1392, #1910, #2514, #2581, #3438 ‚Äî –≤—Å–µ –∑–∞–∫—Ä—ã—Ç—ã –∫–∞–∫ ¬´not planned¬ª.

---

## 20. –ë–∞–≥–∏ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏/–æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —è–∑—ã–∫–æ–≤

**–ü—Ä–∏—á–∏–Ω–∞ 1 ‚Äî RTL (—Ñ–∞—Ä—Å–∏/–∞—Ä–∞–±—Å–∫–∏–π) + LTR (URI/IP) –∫–æ–Ω—Ñ–ª–∏–∫—Ç.** Hiddify –∞–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –ò—Ä–∞–Ω–µ. URI `vless://...@server:443` –≤ RTL-–∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å –ø–µ—Ä–µ–ø—É—Ç–∞–Ω–Ω—ã–º–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏ (BiDi). Flutter Issue #57216: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ RTL-–ª–æ–∫–∞–ª–∏ –Ω–µ –º–µ–Ω—è–µ—Ç direction —Ç–µ–∫—Å—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

**–ü—Ä–∏—á–∏–Ω–∞ 2 ‚Äî –û–±—Ä–µ–∑–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞.** –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —à–∏—Ä–∏–Ω–∞ UI-—ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –¥–ª–∏–Ω—É –ø–µ—Ä–µ–≤–æ–¥–∞ (–Ω–µ–º–µ—Ü–∫–∏–π/—Ä—É—Å—Å–∫–∏–π –¥–ª–∏–Ω–Ω–µ–µ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ –Ω–∞ 30‚Äì50%). Emoji (üá©üá™, üöÄ) –≤ remark —Ä–µ–Ω–¥–µ—Ä—è—Ç—Å—è —Ä–∞–∑–Ω–æ–π —à–∏—Ä–∏–Ω–æ–π –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö.

**–ü—Ä–∏—á–∏–Ω–∞ 3 ‚Äî –ù–µ–ø–æ–ª–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã.** Community-driven –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –Ω–µ –ø–æ–∫—Ä—ã–≤–∞–µ—Ç –≤—Å–µ —Å—Ç—Ä–æ–∫–∏, –æ—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è –Ω–æ–≤—ã—Ö —Ñ–∏—á–µ–π. v2rayNG Issue #4638: ¬´–Ω–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è Android 15¬ª ‚Äî UI lags –≤–ª–∏—è—é—Ç –Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞.

---

## 21. –ù–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ Android TV

**–ü—Ä–∏—á–∏–Ω–∞ 1 ‚Äî –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ LEANBACK_LAUNCHER.** –ë–µ–∑ `android.intent.category.LEANBACK_LAUNCHER` –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ –¥–æ–º–∞—à–Ω–µ–º —ç–∫—Ä–∞–Ω–µ TV. v2rayNG Issue #2929: –∏–∫–æ–Ω–∫–∞ –Ω–µ –≤–∏–¥–Ω–∞ –Ω–∞ Xiaomi TV. `LEANBACK_LAUNCHER` –±—ã–ª–∞ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞ –≤ –º–∞–Ω–∏—Ñ–µ—Å—Ç–µ.

**–ü—Ä–∏—á–∏–Ω–∞ 2 ‚Äî D-pad –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º —Å touch UI.** –í—Å–µ VPN-–∫–ª–∏–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç touch-first: ScrollView, swipe-to-delete, FAB, popup menus. D-pad –Ω–µ –º–æ–∂–µ—Ç ¬´–ø—Ä–æ–ø—Ä—ã–≥–Ω—É—Ç—å¬ª —á–µ—Ä–µ–∑ –∑–æ–Ω—ã –ø—Ä–æ–∫—Ä—É—Ç–∫–∏, —Ñ–æ–∫—É—Å –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω. Issue #2: ¬´cannot choose nodes, no touch operation¬ª.

**–ü—Ä–∏—á–∏–Ω–∞ 3 ‚Äî –ê–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é TV.** TV –Ω–∞ —Å–ª–∞–±—ã—Ö SoC (Amlogic S905, 1‚Äì2 –ì–ë RAM) —É–±–∏–≤–∞—é—Ç VPN-–ø—Ä–æ—Ü–µ—Å—Å —á–µ—Ä–µ–∑ ~30 —Å–µ–∫—É–Ω–¥. Go/Xray-core –ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–π –æ–±—ä—ë–º –ø–∞–º—è—Ç–∏ ‚Üí OOM kill. –ù–µ—Ç notification shade –¥–ª—è persistent VPN notification.

---

## 22. –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å iOS 17+

**–ü—Ä–∏—á–∏–Ω–∞ 1 ‚Äî Privacy Manifest –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω —Å –º–∞—è 2024.** App Store Connect –æ—Ç–∫–ª–æ–Ω—è–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±–µ–∑ `PrivacyInfo.xcprivacy`, –µ—Å–ª–∏ –æ–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç Required Reason API (UserDefaults, file timestamps). Go-–±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —á–µ—Ä–µ–∑ gomobile –≤—ã–∑—ã–≤–∞—é—Ç —ç—Ç–∏ API. Flutter –∏ –µ–≥–æ –ø–ª–∞–≥–∏–Ω—ã —Ç—Ä–µ–±—É—é—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö privacy manifests. –û—à–∏–±–∫–∏ `ITMS-91061/91065`.

**–ü—Ä–∏—á–∏–Ω–∞ 2 ‚Äî –ò–∑–º–µ–Ω–µ–Ω–∏—è Network Extension.** NEPacketTunnelProvider –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –¥–ª—è —Ç—É–Ω–Ω–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è IP. –ù–æ–≤—ã–π `enforceRoutes` API –∏–∑–º–µ–Ω—è–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏. Keychain access –∏–∑–º–µ–Ω–∏–ª—Å—è. Hiddify —Å—Ç–æ–ª–∫–Ω—É–ª–∞—Å—å —Å –ø—Ä–æ–±–ª–µ–º–∞–º–∏: —Å–º–µ–Ω–∞ BundleID –ø–æ—Å–ª–µ 1.4 —Å–ª–æ–º–∞–ª–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å NE —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º–∏ –≤–µ—Ä—Å–∏—è–º–∏.

**–ü—Ä–∏—á–∏–Ω–∞ 3 ‚Äî WidgetKit/App Intents.** Shadowrocket –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–ª–∞ ¬´Fixed iOS 17 widget issue¬ª –∏ ¬´ControlWidgetToggle icon issue¬ª. App Intents –∑–∞–º–µ–Ω–∏–ª–∏ SiriKit Intents ‚Äî —Å—Ç–∞—Ä—ã–µ VPN Shortcuts –ø–µ—Ä–µ—Å—Ç–∞–ª–∏ —Ä–∞–±–æ—Ç–∞—Ç—å.

**–ü—Ä–∏—á–∏–Ω–∞ 4 ‚Äî TrollStore –∑–∞–∫—Ä—ã—Ç –Ω–∞ iOS 17.1+.** Network Extension —Ç—Ä–µ–±—É–µ—Ç –ø–ª–∞—Ç–Ω–æ–≥–æ Apple Developer Account. Hiddify IPA –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –≤–∞–ª–∏–¥–Ω–æ–π –ø–æ–¥–ø–∏—Å–∏. TestFlight –æ–≥—Ä–∞–Ω–∏—á–µ–Ω 10K –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏.

---

## 23. –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ–º VPN

**–ü—Ä–∏—á–∏–Ω–∞ 1 ‚Äî Google FCM vs VPN.** –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Firebase: ¬´VPNs mask the underlying information that FCM needs... In some cases VPNs actively break long-lived connections.¬ª FCM –Ω–∞ –ø–æ—Ä—Ç–∞—Ö **5228‚Äì5230** –∫ `mtalk.google.com` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç persistent TCP ‚Äî VPN-–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ä–≤—É—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.

**–ü—Ä–∏—á–∏–Ω–∞ 2 ‚Äî Apple APNs –æ–±—Ö–æ–¥–∏—Ç VPN by design.** Tommy Mysk (2022, iOS 16+): Push Notification Service –æ–±—Ö–æ–¥–∏—Ç VPN –¥–∞–∂–µ –ø—Ä–∏ `includeAllNetworks`. Apple –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª–∞ ‚Äî —ç—Ç–æ by design. –ü—Ä–∏ sleep iOS –ø—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç VPN extension ‚Üí APNs-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Ä–≤—ë—Ç—Å—è.

**–ü—Ä–∏—á–∏–Ω–∞ 3 ‚Äî Per-port routing –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω.** Android VpnService –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç per-port routing. –ò—Å–∫–ª—é—á–µ–Ω–∏–µ Google Play Services (`addDisallowedApplication("com.google.android.gms")`) —Ä–µ—à–∞–µ—Ç FCM, –Ω–æ —Å–æ–∑–¥–∞—ë—Ç —É—Ç–µ—á–∫—É ‚Äî –≤–µ—Å—å GMS-—Ç—Ä–∞—Ñ–∏–∫ –∏–¥—ë—Ç –≤ –æ–±—Ö–æ–¥ VPN.

---

## 24. –£—Ç–µ—á–∫–∏ —Ç—Ä–∞—Ñ–∏–∫–∞ (–æ–±—Ö–æ–¥ VPN-—Ç—É–Ω–Ω–µ–ª—è)

**–ü—Ä–∏—á–∏–Ω–∞ 1 ‚Äî Captive portal bypass.** –ê—É–¥–∏—Ç Mullvad (MUL22-03): Android –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç connectivity checks –∫ `connectivitycheck.gstatic.com` **–≤ –æ–±—Ö–æ–¥ VPN**, –¥–∞–∂–µ –ø—Ä–∏ ¬´Block connections without VPN¬ª. Google –ø—Ä–∏–∑–Ω–∞–ª —ç—Ç–æ **intended behavior**. –ù–∞ iOS: Apple Health, Maps, Wallet –æ–±—Ö–æ–¥—è—Ç VPN (–∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ Mysk, 2022).

**–ü—Ä–∏—á–∏–Ω–∞ 2 ‚Äî System apps —Å –ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –¥–æ—Å—Ç—É–ø–æ–º.** Google Play Services –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `ConnectivityManager.bindProcessToNetwork()` –Ω–∞–ø—Ä—è–º—É—é. VPN-–∫–ª–∏–µ–Ω—Ç—ã –Ω–µ –º–æ–≥—É—Ç –∏—Å–∫–ª—é—á–∏—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã —Å UID < 10000.

**–ü—Ä–∏—á–∏–Ω–∞ 3 ‚Äî WebRTC leak.** WebRTC –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç UDP –∫ STUN-—Å–µ—Ä–≤–µ—Ä–∞–º –Ω–∞–ø—Ä—è–º—É—é. –ù–∏ –æ–¥–∏–Ω –∏–∑ –∫–ª–∏–µ–Ω—Ç–æ–≤ –Ω–µ –∏–º–µ–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –∑–∞—â–∏—Ç—ã –æ—Ç WebRTC leaks.

**–ü—Ä–∏—á–∏–Ω–∞ 4 ‚Äî FakeIP –≤ –∫–µ—à–µ.** sing-box FakeIP –≤—ã–¥–∞—ë—Ç –∞–¥—Ä–µ—Å–∞ –∏–∑ **198.18.0.0/15** ‚Üí –ø—Ä–∏ –æ—Ç–∫–ª—é—á–µ–Ω–∏–∏ VPN –∫–µ—à –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —Å–æ–¥–µ—Ä–∂–∏—Ç —Ñ–µ–π–∫–æ–≤—ã–µ IP ‚Üí connection timeout. –ù–∞ Android –Ω–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ API –¥–ª—è flush DNS cache.

**–ü—Ä–∏—á–∏–Ω–∞ 5 ‚Äî –û–∫–Ω–æ –ø—Ä–∏ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏.** –ü—Ä–∏ —Å–º–µ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞ —Å—Ç–∞—Ä—ã–π TUN –∑–∞–∫—Ä—ã—Ç, –Ω–æ–≤—ã–π –Ω–µ —Å–æ–∑–¥–∞–Ω ‚Äî –≤–µ—Å—å —Ç—Ä–∞—Ñ–∏–∫ –∏–¥—ë—Ç —á–µ—Ä–µ–∑ —Ä–µ–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å. Always-on VPN –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ, –Ω–æ **–Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ**.

---

## 25. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–æ–ª—å–∫–æ VLESS (–Ω–µ—Ç VMess/Trojan/SS)

**–ü—Ä–∏—á–∏–Ω–∞ 1 ‚Äî –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ GUI –ø—Ä–∏ –ø–æ–ª–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–µ core.** –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ V2RayXS (macOS): ¬´the workload of adapting all outbounds is not small, and each protocol is constantly updated.¬ª Core –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤—Å–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã, –Ω–æ UI hardcoded –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —Ç—Ä–µ–±—É–µ—Ç –Ω–æ–≤—ã—Ö —Ñ–æ—Ä–º, –ø–∞—Ä—Å–µ—Ä–æ–≤, –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–æ–≤.

**–ü—Ä–∏—á–∏–Ω–∞ 2 ‚Äî –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π —Ñ–æ–∫—É—Å.** –†–∞–Ω–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ FoXray –∏ –Ω–∏—à–µ–≤—ã–µ —Ñ–æ—Ä–∫–∏ —Å–æ–∑–¥–∞–≤–∞–ª–∏—Å—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è VLESS+Reality –∫–∞–∫ state of the art. –ú–µ–Ω—å—à–µ –∫–æ–¥–∞ = –º–µ–Ω—å—à–µ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π. –ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ **–≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã –º—É–ª—å—Ç–∏–ø—Ä–æ—Ç–æ–∫–æ–ª—å–Ω—ã–µ** (v2rayNG, Hiddify, NekoBox, Shadowrocket –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç VLESS, VMess, Trojan, SS).

**–ü—Ä–∏—á–∏–Ω–∞ 3 ‚Äî –õ–∏—Ü–µ–Ω–∑–∏–æ–Ω–Ω—ã–µ –∞—Å–ø–µ–∫—Ç—ã.** sing-box (GPLv3), Xray-core (MPL-2.0) ‚Äî —Ä–∞–∑–ª–∏—á–∏—è –≤ –ª–∏—Ü–µ–Ω–∑–∏—è—Ö –≤–ª–∏—è—é—Ç –Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –∫–æ–¥–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤. Apple –º–æ–∂–µ—Ç –æ—Ç–∫–ª–æ–Ω–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –∏–∑–±—ã—Ç–æ—á–Ω—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤.

---

## 26. –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

**–ü—Ä–∏—á–∏–Ω–∞ 1 ‚Äî Cascade delete.** –ö–æ–Ω—Ñ–∏–≥–∏ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –ø–æ–¥–ø–∏—Å–∫–µ —á–µ—Ä–µ–∑ `subId`. –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥–∞ –±–µ—Å–ø–æ–ª–µ–∑–Ω–æ ‚Äî –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –ø–æ–¥–ø–∏—Å–∫–∏ –æ–Ω –≤–µ—Ä–Ω—ë—Ç—Å—è. –ù–µ—Ç –ª–æ–≥–∏–∫–∏ ¬´–ø–æ–º–µ—Ç–∏—Ç—å –∫–∞–∫ –∏—Å–∫–ª—é—á—ë–Ω–Ω—ã–π¬ª. Issue #885: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ—Å–∏—Ç ¬´clear list button¬ª, –ø–æ—Ç–æ–º—É —á—Ç–æ —É–¥–∞–ª–µ–Ω–∏–µ –ø–æ –æ–¥–Ω–æ–º—É ‚Äî ¬´looks like stupid¬ª.

**–ü—Ä–∏—á–∏–Ω–∞ 2 ‚Äî –•—Ä–∞–Ω–µ–Ω–∏–µ –≤ SharedPreferences/MMKV.** v2rayNG –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏ —Ö—Ä–∞–Ω–∏–ª –∫–æ–Ω—Ñ–∏–≥–∏ –≤ –æ–¥–Ω–æ–º XML-—Ñ–∞–π–ª–µ, –º–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ MMKV. –ù–µ—Ç batch-–æ–ø–µ—Ä–∞—Ü–∏–π, –Ω–µ—Ç multi-select. –£–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ long-press ‚Üí –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é.

**–ü—Ä–∏—á–∏–Ω–∞ 3 ‚Äî iOS-–∫–ª–∏–µ–Ω—Ç—ã –ª—É—á—à–µ.** Shadowrocket, FoXray —Ä–µ–∞–ª–∏–∑—É—é—Ç iOS-–∫–æ–Ω–≤–µ–Ω—Ü–∏—é swipe-to-delete. –ü—Ä–æ–±–ª–µ–º–∞ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω–∞ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ –¥–ª—è Android-–∫–ª–∏–µ–Ω—Ç–æ–≤.

---

## 27. –ù–µ—Ç –º–∞—Å—Å–æ–≤–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞ URL –∏–∑ –±—É—Ñ–µ—Ä–∞ –æ–±–º–µ–Ω–∞

**–ü—Ä–∏—á–∏–Ω–∞ 1 ‚Äî iOS Pasteboard Privacy (iOS 14+).** –° iOS 16 ‚Äî permission prompt –ø—Ä–∏ –∫–∞–∂–¥–æ–º –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ `UIPasteboard.general.string`. `detectPatterns(for:)` –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ `.probableWebURL` ‚Äî –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è `vless://` URI-—Å—Ö–µ–º—ã. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å—á–∏—Ç—ã–≤–∞–Ω–∏–µ clipboard –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Å—Ç–∞–ª–æ –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã–º.

**–ü—Ä–∏—á–∏–Ω–∞ 2 ‚Äî –°–ª–æ–∂–Ω–æ—Å—Ç—å –ø–∞—Ä—Å–∏–Ω–≥–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö URI.** –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏ (`\n`, `\r\n`, –ø—Ä–æ–±–µ–ª—ã), —Å–º–µ—à–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã (vless ‚Äî URI, vmess ‚Äî base64 JSON), URL-encoded –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, ¬´–º—É—Å–æ—Ä¬ª –≤ —Ç–µ–∫—Å—Ç–µ. –ù–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ ¬´—ç—Ç–æ subscription base64, –∞ –Ω–µ —Ç–µ–∫—Å—Ç¬ª.

**–ü—Ä–∏—á–∏–Ω–∞ 3 ‚Äî –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ.** –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ —Ä–∞–∑–¥–µ–ª—è—é—Ç: –µ–¥–∏–Ω–∏—á–Ω—ã–π import ‚Üí –æ–¥–Ω–∞ —Å—Å—ã–ª–∫–∞; –º–∞—Å—Å–æ–≤—ã–π ‚Üí subscription URL —Å –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º. ¬´–ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π¬ª –≤–∞—Ä–∏–∞–Ω—Ç –Ω–µ —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è, –ø–æ—Ç–æ–º—É —á—Ç–æ –º–∞—Å—Å–æ–≤–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä—ã –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ.

---

## 28. User-Agent –ø–æ–¥–ø–∏—Å–∫–∏ –≤—ã–¥–∞—ë—Ç –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–ü—Ä–∏—á–∏–Ω–∞ 1 ‚Äî Dalvik UA —Ä–∞—Å–∫—Ä—ã–≤–∞–µ—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ.** –°—Ç–∞—Ä—ã–µ –≤–µ—Ä—Å–∏–∏ v2rayNG –æ—Ç–ø—Ä–∞–≤–ª—è–ª–∏ `Dalvik/2.3.0 (Linux; Android 10; HUAWEI JER-AN10)` ‚Äî –±—Ä–µ–Ω–¥, –º–æ–¥–µ–ª—å, –≤–µ—Ä—Å–∏—è Android. –ü–æ—Å–ª–µ Issue #809 –∑–∞–º–µ–Ω—ë–Ω –Ω–∞ `v2rayNG/1.8.12`, –Ω–æ –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –Ω–µ–≤–æ–∑–º–æ–∂–Ω–∞.

**–ü—Ä–∏—á–∏–Ω–∞ 2 ‚Äî Go-http-client –º–∞—Ä–∫–µ—Ä.** Issue #2017: User-Agent `Go-http-client/1.1` –≤ WebSocket handshake ‚Äî —Ç—Ä–∏–≤–∏–∞–ª—å–Ω—ã–π –º–∞—Ä–∫–µ—Ä VPN-—Ç—Ä–∞—Ñ–∏–∫–∞ –¥–ª—è DPI. –ü—Ä–∏ uTLS User-Agent –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è: ¬´When I choose Utls, nothing changes on request headers.¬ª

**–ü—Ä–∏—á–∏–Ω–∞ 3 ‚Äî –°—Ü–µ–Ω–∞—Ä–∏–∏ –∞—Ç–∞–∫.** –í —Å—Ç—Ä–∞–Ω–∞—Ö —Å —Ü–µ–Ω–∑—É—Ä–æ–π ISP/DPI –≤–∏–¥–∏—Ç HTTPS-–∑–∞–ø—Ä–æ—Å –∫ sub.example.com —Å –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É—é—â–∏–º UA ‚Üí –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ‚Üî–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å. –û–ø–µ—Ä–∞—Ç–æ—Ä –ø–∞–Ω–µ–ª–∏ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –±–∞–∑—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤. net4people/bbs #298: –∫–ª–∏–µ–Ω—Ç—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç fake User-Agent –¥–∞–∂–µ –¥–ª—è HTTP –ø–æ–¥–ø–∏—Å–æ–∫.

---

## 29. uTLS fingerprint ¬´android¬ª –≤—ã–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

**–ü—Ä–∏—á–∏–Ω–∞ 1 ‚Äî ¬´android¬ª fingerprint –º–æ–∂–µ—Ç –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å TLS 1.3.** Reality –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Ç—Ä–µ–±—É–µ—Ç TLS 1.3. –í –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–º –∫–æ–¥–µ (`reality.go`): `"Current fingerprint does not support TLS 1.3, REALITY handshake cannot establish."` –°—Ç–∞—Ä—ã–π –ø—Ä–æ—Ñ–∏–ª—å `HelloAndroid_11` –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ OkHttp/BoringSSL, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å —Ç–æ–ª—å–∫–æ TLS 1.2.

**–ü—Ä–∏—á–∏–Ω–∞ 2 ‚Äî –û—Ç–ª–∏—á–∏—è TLS extensions –æ—Ç —Ä–µ–∞–ª—å–Ω—ã—Ö.** Android OkHttp: ALPN `h2` only (Chrome: `h2, http/1.1`); –Ω–µ—Ç GREASE; –¥—Ä—É–≥–æ–π –ø–æ—Ä—è–¥–æ–∫ extensions (–æ—Ç–ª–∏—á–Ω—ã–π JA3/JA4 hash); –Ω–µ—Ç `compress_certificate`, `delegated_credentials`, GREASE ECH.

**–ü—Ä–∏—á–∏–Ω–∞ 3 ‚Äî –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å key exchange —Å Reality.** sing-box Issue #2084: fingerprint `chrome_pq` –≤—ã–∑—ã–≤–∞–ª `nil ecdhe_key` ‚Äî Chrome PQ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç X25519MLKEM768, –∞ Reality –æ–∂–∏–¥–∞–µ—Ç X25519. –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ ¬´android¬ª fingerprint –º–æ–∂–µ—Ç —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å key_share —Å –æ—Ç–ª–∏—á–Ω–æ–π group.

**–ü—Ä–∏—á–∏–Ω–∞ 4 ‚Äî DPI –∏—Å–ø–æ–ª—å–∑—É–µ—Ç ¬´android¬ª –∫–∞–∫ –º–∞—Ä–∫–µ—Ä.** –í –ò—Ä–∞–Ω–µ (net4people/bbs #139): vmess+ws+tls —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Windows/Mac/iOS, –Ω–æ –Ω–µ –Ω–∞ Android ‚Äî –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ TLS fingerprint. –ö–æ–º–±–∏–Ω–∞—Ü–∏—è ¬´–º–æ–±–∏–ª—å–Ω–∞—è —Å–µ—Ç—å + –Ω–µ-Chrome fingerprint + SNI‚â†IP¬ª –ø–æ–∑–≤–æ–ª—è–µ—Ç DPI –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å —Å –≤—ã—Å–æ–∫–æ–π —Ç–æ—á–Ω–æ—Å—Ç—å—é.

---

## 30. macOS UX —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–æ —Å–ª–æ–º–∞–Ω

**–ü—Ä–∏—á–∏–Ω–∞ 1 ‚Äî Catalyst-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∫–∞–∫ iOS-–ø–æ—Ä—Ç.** FoXray, V2Box, Streisand, Shadowrocket ‚Äî iOS-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ compatibility layer. –ù–µ—Ç –Ω–∞—Ç–∏–≤–Ω–æ–≥–æ NSWindow management, –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ menu bar, Finder integration. FoXray: ¬´main window doesn't go in the dock.¬ª

**–ü—Ä–∏—á–∏–Ω–∞ 2 ‚Äî NEPacketTunnelProvider –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ macOS Catalyst.** Forum thread/690186: extension refuses to launch –Ω–∞ macOS 10.15. Keychain –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å iOS‚ÜîmacOS. –ö–æ–Ω—Ñ–ª–∏–∫—Ç VPN-–ø—Ä–æ—Ñ–∏–ª–µ–π –º–µ–∂–¥—É native –∏ Catalyst –≤–µ—Ä—Å–∏—è–º–∏.

**–ü—Ä–∏—á–∏–Ω–∞ 3 ‚Äî Non-Catalyst –∫–ª–∏–µ–Ω—Ç—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç Network Extension.** V2RayXS, v2rayU –∑–∞–ø—É—Å–∫–∞—é—Ç xray-core –∫–∞–∫ –ø—Ä–æ—Ü–µ—Å—Å + system proxy. –ù–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—é—Ç –≤–µ—Å—å —Ç—Ä–∞—Ñ–∏–∫, –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã –Ω–∞ Apple Silicon (v2rayU: ¬´extremely unstable on M1¬ª). Tun mode —Ç—Ä–µ–±—É–µ—Ç root-–ø—Ä–∏–≤–∏–ª–µ–≥–∏–π, –∫–æ—Ç–æ—Ä—ã–µ Apple –±–ª–æ–∫–∏—Ä—É–µ—Ç.

**–ü—Ä–∏—á–∏–Ω–∞ 4 ‚Äî Flutter –Ω–∞ macOS.** Hiddify (Flutter) —Ä–∏—Å—É–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π UI –±–µ–∑ AppKit ‚Üí ¬´—á—É–∂–µ—Ä–æ–¥–Ω—ã–π¬ª –≤–∏–¥. ¬´Fixed system tray behavior¬ª, ¬´Fixed macOS icon¬ª, ¬´out of memory bug on macOS¬ª –≤ changelogs.

---

## 31. –ü—Ä–æ–±–ª–µ–º—ã –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏: –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

**–ü—Ä–∏—á–∏–Ω–∞ 1 ‚Äî Closed-source = –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∞—É–¥–∏—Ç–∞.** Shadowrocket, FoXray, V2Box, Streisand ‚Äî closed-source. V2Box: NowSecure –æ–±–Ω–∞—Ä—É–∂–∏–ª —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è –≤ privacy declarations, —Å–±–æ—Ä —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö, –∑–∞–ø—Ä–æ—Å –∫–∞–º–µ—Ä—ã. –†–µ–∫–ª–∞–º–Ω—ã–π SDK –Ω–µ–∏–∑–±–µ–∂–Ω–æ —Å–æ–±–∏—Ä–∞–µ—Ç device ID, IP, behavioral data.

**–ü—Ä–∏—á–∏–Ω–∞ 2 ‚Äî Open-source –∫–ª–∏–µ–Ω—Ç—ã —á–∏—Å—Ç—ã.** v2rayNG (BeVigil security score 8.9/10): –Ω–µ –≤–∫–ª—é—á–∞–µ—Ç Firebase Analytics, Crashlytics. Hiddify: ¬´Free and No ADS¬ª, –±–µ–∑ —Ä–µ–∫–ª–∞–º–Ω—ã—Ö SDK. NekoBox (GitHub): –±–µ–∑ —Ç—Ä–µ–∫–µ—Ä–æ–≤. **–ù–æ**: Google Play –≤–µ—Ä—Å–∏—è NekoBox —Å –º–∞—è 2024 –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç—Å—è —Ç—Ä–µ—Ç—å–µ–π —Å—Ç–æ—Ä–æ–Ω–æ–π –∏ —è–≤–ª—è–µ—Ç—Å—è non-open-source ‚Äî **–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —Ä–∏—Å–∫**.

**–ü—Ä–∏—á–∏–Ω–∞ 3 ‚Äî 20+ –∏–∑ —Ç–æ–ø-100 –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö VPN –∏–º–µ—é—Ç —Å–≤—è–∑–∏ —Å –∫–∏—Ç–∞–π—Å–∫–∏–º–∏ –∫–æ–º–ø–∞–Ω–∏—è–º–∏.** Tech Transparency Project (2025). –•–æ—Ç—è —ç—Ç–æ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏–µ VPN, —Ä–∏—Å–∫ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –Ω–∞ –ª—é–±—ã–µ closed-source VPN-–∫–ª–∏–µ–Ω—Ç—ã.

---

## 32. –ü—Ä–æ–µ–∫—Ç –∑–∞–±—Ä–æ—à–µ–Ω / –º–∏–Ω–∏–º–∞–ª—å–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è

**–ü—Ä–∏—á–∏–Ω–∞ 1 ‚Äî NekoRay Desktop –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω.** MatsuriDayo –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–ª —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π **17 –º–∞—Ä—Ç–∞ 2025**: ¬´–ë–æ–ª—å—à–µ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è, –∏—â–∏—Ç–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã.¬ª 15 200 –∑–≤—ë–∑–¥, –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–µ–ª–∏–∑ –Ω–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–π sing-box 1.9.7. DNS leak (Issue #1554), –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å ‚Äî –≤—Å—ë –±–µ–∑ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è. NekoBoxForAndroid –º–∏–Ω–∏–º–∞–ª—å–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è: ¬´—Ç–æ–ª—å–∫–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –±–∞–≥–∏ –±—É–¥—É—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã¬ª.

**–ü—Ä–∏—á–∏–Ω–∞ 2 ‚Äî Bus factor = 1‚Äì2 —á–µ–ª–æ–≤–µ–∫–∞.** Xray-core: –æ—Å–Ω–æ–≤–Ω–æ–π maintainer RPRX (–∞–Ω–æ–Ω–∏–º–Ω—ã–π), –≤—Ç–æ—Ä–æ–π ‚Äî Fangliding. –ë–µ–∑ RPRX –≤—Å—è —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞ VLESS+Reality –ø–æ–¥ —É–≥—Ä–æ–∑–æ–π. v2rayA –ø–æ –¥–∞–Ω–Ω—ã–º Discussion #1568: ¬´repo is abandoned by the maintainer.¬ª

**–ü—Ä–∏—á–∏–Ω–∞ 3 ‚Äî –£—Å—Ç–∞—Ä–µ–≤—à–∏–µ –∫–ª–∏–µ–Ω—Ç—ã –Ω–µ –ø–æ–ª—É—á–∞—é—Ç security patches.** NekoRay –Ω–∞ sing-box 1.9.7 —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏. Google Play NekoBox –æ—Ç —Ç—Ä–µ—Ç—å–µ–π —Å—Ç–æ—Ä–æ–Ω—ã –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∑–∞–∫–ª–∞–¥–∫–∏.

---

## 33. –ò–Ω—Ç–µ—Ä–Ω–µ—Ç –ª–æ–º–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è VPN

**–ü—Ä–∏—á–∏–Ω–∞ 1 ‚Äî ¬´–ó–æ–º–±–∏-VPN¬ª.** –ï—Å–ª–∏ Xray-core/sing-box crash —Å Go panic (v2rayNG Issue #3359: `panic: invalid memory address`), Java-–æ–±—ë—Ä—Ç–∫–∞ –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç —Å–∏–≥–Ω–∞–ª. tun fd –æ—Å—Ç–∞—ë—Ç—Å—è –æ—Ç–∫—Ä—ã—Ç—ã–º (VpnService –∂–∏–≤, Go-core –º—ë—Ä—Ç–≤) ‚Üí –≤–µ—Å—å —Ç—Ä–∞—Ñ–∏–∫ —É—Ö–æ–¥–∏—Ç –≤ tun ‚Üí –Ω–∏–∫—Ç–æ –µ–≥–æ –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç ‚Üí **blackhole**. –≠—Ç–æ –Ω–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫, –∞ –∑–æ–º–±–∏-VPN.

**–ü—Ä–∏—á–∏–Ω–∞ 2 ‚Äî FakeIP DNS cache.** sing-box FakeIP –≤—ã–¥–∞—ë—Ç –∞–¥—Ä–µ—Å–∞ –∏–∑ **198.18.0.0/15**. –ü—Ä–∏ –æ—Ç–∫–ª—é—á–µ–Ω–∏–∏ VPN —Ñ–µ–π–∫–æ–≤—ã–µ IP –æ—Å—Ç–∞—é—Ç—Å—è –≤ DNS-–∫–µ—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π ‚Üí connection timeout. –ù–∞ Android –Ω–µ—Ç API –¥–ª—è flush DNS cache ‚Äî —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

**–ü—Ä–∏—á–∏–Ω–∞ 3 ‚Äî iOS NETunnelProviderManager.** VPN On Demand rules –º–æ–≥—É—Ç –ø–µ—Ä—Å–∏—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å–ª–µ –¥–µ–∏–Ω—Å—Ç–∞–ª–ª—è—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚Üí iOS –ø—ã—Ç–∞–µ—Ç—Å—è –∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π tunnel provider ‚Üí –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ–µ networking. –ü—Ä–∏ crash extension –±–µ–∑ `cancelTunnelWithError()` ‚Äî utun interface –æ—Å—Ç–∞—ë—Ç—Å—è –≤ –∑–æ–º–±–∏-—Å–æ—Å—Ç–æ—è–Ω–∏–∏ –¥–æ —Ç–∞–π–º–∞—É—Ç–∞.

---

## 34. –ö–æ–Ω—Ñ–ª–∏–∫—Ç —Å GoodbyeDPI/AdGuard

**–ü—Ä–∏—á–∏–Ω–∞ 1 ‚Äî Android —Ä–∞–∑—Ä–µ—à–∞–µ—Ç —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –∞–∫—Ç–∏–≤–Ω—ã–π VPN.** `VpnService.prepare()` –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç **–æ–¥–Ω–æ VPN-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ**. –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –Ω–æ–≤–æ–≥–æ VPN –ø—Ä–µ–¥—ã–¥—É—â–∏–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ—Ç `onRevoke()`. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ —É—Ä–æ–≤–Ω–µ —è–¥—Ä–∞: `ConnectivityService` —É–ø—Ä–∞–≤–ª—è–µ—Ç –æ–¥–Ω–∏–º VPN-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

**–ü—Ä–∏—á–∏–Ω–∞ 2 ‚Äî ByeDPI, AdGuard, v2rayNG ‚Äî –≤—Å–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç VpnService.** –í—Å–µ —Å–æ–∑–¥–∞—é—Ç TUN-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (`/dev/tun0`). –ó–∞–ø—É—Å–∫ –ª—é–±–æ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫–ª—é—á–∞–µ—Ç –¥—Ä—É–≥–æ–π.

**–ü—Ä–∏—á–∏–Ω–∞ 3 ‚Äî Workaround —á–µ—Ä–µ–∑ proxy-mode.** ByeDPI: –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤ —Ä–µ–∂–∏–º–µ SOCKS5 (127.0.0.1:1080), —É–∫–∞–∑–∞—Ç—å –≤ AdGuard –∫–∞–∫ outbound proxy. v2rayNG: proxy mode (SOCKS5 –Ω–∞ 10808, HTTP –Ω–∞ 10809), AdGuard –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç—Ç–æ—Ç proxy. AdGuard –Ω–∞ root: Automatic proxy mode —á–µ—Ä–µ–∑ iptables –≤–º–µ—Å—Ç–æ TUN.

---

## 35. –ù–µ—Ç —Ç–µ—Å—Ç–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏ (—Ç–æ–ª—å–∫–æ latency)

**–ü—Ä–∏—á–∏–Ω–∞ 1 ‚Äî –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å throughput test.** –¢—Ä–µ–±—É–µ—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–≥–æ –æ–±—ä—ë–º–∞ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ proxy, —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞, –ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç —Ç—Ä–∞—Ñ–∏–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. v2rayNG Issue #2548: –∑–∞–ø—Ä–æ—Å Speed-test –∑–∞–∫—Ä—ã—Ç –±–µ–∑ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.

**–ü—Ä–∏—á–∏–Ω–∞ 2 ‚Äî –¢–æ–ª—å–∫–æ latency –≤–æ –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç–∞—Ö.** v2rayNG: Real delay (HTTP –∫ `cp.cloudflare.com`). Hiddify: ¬´loading latency of a URL¬ª ‚Äî –ø–æ —Å—É—Ç–∏ —Ç–æ–∂–µ latency (Issue #1569). FoXray: TCPPing/TLSPing/RealPing. –¢–æ–ª—å–∫–æ v2rayN desktop (Ctrl+E) –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ñ–∞–π–ª —á–µ—Ä–µ–∑ proxy –∏ –∑–∞–º–µ—Ä—è–µ—Ç throughput.

**–ü—Ä–∏—á–∏–Ω–∞ 3 ‚Äî Reality overhead –∏—Å–∫–∞–∂–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç.** TLS handshake emulation, uTLS fingerprint, Reality negotiation –¥–æ–±–∞–≤–ª—è—é—Ç overhead. –†–µ–∑—É–ª—å—Ç–∞—Ç speed test —á–µ—Ä–µ–∑ proxy –∑–∞–≤–∏—Å–∏—Ç –æ—Ç MTU, TCP window, —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –¥–æ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞, –Ω–∞–≥—Ä—É–∑–∫–∏ proxy.

---

## 36. –ö—Ä–∞—à –æ—Ç –∏–º–ø–æ—Ä—Ç–∞ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ–≥–æ –∫–æ–Ω—Ñ–∏–≥–∞ (crash loop)

**–ü—Ä–∏—á–∏–Ω–∞ 1 ‚Äî –ö–æ–Ω—Ñ–∏–≥ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –î–û –≤–∞–ª–∏–¥–∞—Ü–∏–∏.** v2rayNG Issue #3168: **–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –±–∞–≥**. –ò–º–ø–æ—Ä—Ç `{}` –∏–∑ clipboard ‚Üí —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ ‚Üí `MainRecyclerAdapter.onBindViewHolder()` –≤—ã–∑—ã–≤–∞–µ—Ç `getProxyOutbound()` –Ω–∞ null –º–∞—Å—Å–∏–≤–µ ‚Üí NPE ‚Üí crash –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ. **–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –≤—ã—Ö–æ–¥ ‚Äî Clear App Data** (–ø–æ—Ç–µ—Ä—è –≤—Å–µ—Ö –∫–æ–Ω—Ñ–∏–≥–æ–≤).

**–ü—Ä–∏—á–∏–Ω–∞ 2 ‚Äî –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ try-catch –≤ UI-—Å–ª–æ–µ.** `onBindViewHolder()` –Ω–µ –æ–±—ë—Ä–Ω—É—Ç –≤ try-catch. Crash –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –¥–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —É–¥–∞–ª–∏—Ç—å –ø—Ä–æ–±–ª–µ–º–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥. Issue #3534: ¬´crashes the moment custom config has the simplest mistake, instead of showing Failure.¬ª –ë–∞–≥ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–ª—Å—è –æ—Ç v1.3.38 –¥–æ v1.9.3.

**–ü—Ä–∏—á–∏–Ω–∞ 3 ‚Äî Go panic –Ω–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç—Å—è Java.** Go runtime panic (slice out of range, nil pointer) —É–±–∏–≤–∞–µ—Ç native-–ø—Ä–æ—Ü–µ—Å—Å —á–µ—Ä–µ–∑ SIGABRT. Java/Kotlin try-catch –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç ‚Äî crash –Ω–∞ —É—Ä–æ–≤–Ω–µ JNI. Hiddify Issue #926: `panic: slice bounds out of range [:194] with capacity 123`.

---

## 37. –ù–µ—Ç —Ä—É—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞

**–ü—Ä–∏—á–∏–Ω–∞ 1 ‚Äî Hiddify: —Ü–µ–ª–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ import-only.** –§–∏–ª–æ—Å–æ—Ñ–∏—è ¬´simplification, most work behind the scenes¬ª. –†—É—á–Ω–æ–≥–æ form-based –≤–≤–æ–¥–∞ –Ω–µ—Ç ‚Äî —Ç–æ–ª—å–∫–æ subscription, clipboard, QR. Config Editor (v2.0.5+) –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å JSON, –Ω–æ –Ω–µ form.

**–ü—Ä–∏—á–∏–Ω–∞ 2 ‚Äî –°–ª–æ–∂–Ω–æ—Å—Ç—å UI –¥–ª—è 12 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ Reality.** publicKey (**44 —Å–∏–º–≤–æ–ª–∞** base64), shortId (–¥–æ 16 hex), spiderX ‚Äî –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –≤–≤–µ—Å—Ç–∏ –≤—Ä—É—á–Ω—É—é –±–µ–∑ –æ—à–∏–±–æ–∫. v2rayNG, Shadowrocket, FoXray –∏–º–µ—é—Ç –ø–æ–ª–Ω—ã–µ —Ñ–æ—Ä–º—ã —Ä—É—á–Ω–æ–≥–æ –≤–≤–æ–¥–∞. Streisand, V2Ray Client+ ‚Äî –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ import-only.

---

## 38. Siri/—Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ª–æ–º–∞—é—Ç—Å—è –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ–º VPN

**–ü—Ä–∏—á–∏–Ω–∞ 1 ‚Äî Apple –æ–±—Ö–æ–¥–∏—Ç VPN by design.** Tommy Mysk (2022): Maps, Wallet, Find My, Health, Settings –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç –¥–∞–Ω–Ω—ã–µ –≤–Ω–µ VPN-—Ç—É–Ω–Ω–µ–ª—è, –¥–∞–∂–µ –ø—Ä–∏ `includeAllNetworks`. Apple –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª–∞ ProtonVPN: —ç—Ç–æ **by design**.

**–ü—Ä–∏—á–∏–Ω–∞ 2 ‚Äî Encrypted DNS –ª–æ–º–∞–µ—Ç Siri.** Apple Developer Forums thread/677812 (—Å 2021, –Ω–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –¥–æ 2025): –ø—Ä–∏ DoH/DoT –≤–º–µ—Å—Ç–µ —Å NEPacketTunnelProvider Siri –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç SSL shutdown + TCP termination. –ü—Ä–∏ –æ–±—ã—á–Ω—ã—Ö DNS Settings Siri —Ä–∞–±–æ—Ç–∞–µ—Ç. ¬´Siri has never worked with encrypted DNS since iOS 14.¬ª

**–ü—Ä–∏—á–∏–Ω–∞ 3 ‚Äî –î–æ–º–µ–Ω—ã Apple –≤ –±–ª–æ–∫–µ 17.0.0.0/8.** APNs, Siri (`guzzoni.apple.com`), Maps (`*.ls.apple.com`), iCloud ‚Äî –≤–µ—Å—å —Ç—Ä–∞—Ñ–∏–∫. Workaround: –≤ routing rules –¥–æ–±–∞–≤–∏—Ç—å `geoip:apple ‚Üí direct` –∏–ª–∏ –∏—Å–∫–ª—é—á–∏—Ç—å `17.0.0.0/8` –∏–∑ VPN —á–µ—Ä–µ–∑ `NEIPv4Route`.

---

## 39. –ù–µ—Ç —Ç—ë–º–Ω–æ–π —Ç–µ–º—ã

**–ü—Ä–∏—á–∏–Ω–∞ 1 ‚Äî v2rayNG: dark mode —Å–ª–æ–º–∞–Ω –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏.** Issue #2720: ¬´Why in new version is not dark mode theme?¬ª –¢—ë–º–Ω–∞—è —Ç–µ–º–∞ –±—ã–ª–∞ —É–±—Ä–∞–Ω–∞ –∏–ª–∏ —Å–ª–æ–º–∞–Ω–∞ –ø—Ä–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ UI –≤ v2.0+. Issue –∑–∞–∫—Ä—ã—Ç –±—ã—Å—Ç—Ä–æ –±–µ–∑ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.

**–ü—Ä–∏—á–∏–Ω–∞ 2 ‚Äî Flutter –±–∞–≥–∏ (Hiddify).** –ó–∞—è–≤–ª—è–µ—Ç dark/light mode, –Ω–æ Issue #1707: –Ω–∞ Linux top bar –æ—Å—Ç–∞—ë—Ç—Å—è –±–µ–ª—ã–º. Issue #1390: —á—ë—Ä–Ω—ã–π —ç–∫—Ä–∞–Ω –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è ‚Äî –ø—Ä–æ–±–ª–µ–º—ã Flutter rendering.

**–ü—Ä–∏—á–∏–Ω–∞ 3 ‚Äî –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç.** –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏-–æ–¥–∏–Ω–æ—á–∫–∏ —Ñ–æ–∫—É—Å–∏—Ä—É—é—Ç—Å—è –Ω–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å –Ω–æ–≤—ã–º–∏ —è–¥—Ä–∞–º–∏ –∏ –æ–±—Ö–æ–¥–µ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤ –ò—Ä–∞–Ω–µ/–ö–∏—Ç–∞–µ/–†–æ—Å—Å–∏–∏ –±–æ–ª—å—à–µ –∑–∞–±–æ—Ç—è—Ç—Å—è –æ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏, —á–µ–º –æ –≤–∏–∑—É–∞–ª—å–Ω–æ–º –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–∏. iOS-–∫–ª–∏–µ–Ω—Ç—ã (Shadowrocket, FoXray, Streisand) —Å–ª–µ–¥—É—é—Ç —Å–∏—Å—Ç–µ–º–Ω–æ–π —Ç–µ–º–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

---

## 40. Reality NTP clock-mismatch failures

**–ü—Ä–∏—á–∏–Ω–∞ 1 ‚Äî –°–µ—Ä–≤–µ—Ä–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ maxTimeDiff.** –í `XTLS/REALITY/tls.go` (—Å—Ç—Ä–æ–∫–∞ 93): –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π timestamp –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –∏–∑ SessionID –∫–∞–∫ `uint32` big-endian Unix time. –°—Ç—Ä–æ–∫–∞ 103: `time.Since(ClientTime).Abs() <= config.MaxTimeDiff`. –ü—Ä–∏ `maxTimeDiff: 0` –ø—Ä–æ–≤–µ—Ä–∫–∞ **–æ—Ç–∫–ª—é—á–µ–Ω–∞** (short-circuit). –ü—Ä–∏ –Ω–µ–Ω—É–ª–µ–≤–æ–º –∑–Ω–∞—á–µ–Ω–∏–∏ ‚Äî –ø—Ä–µ–≤—ã—à–µ–Ω–∏–µ ‚Üí silent fallback –±–µ–∑ –æ—à–∏–±–∫–∏.

**–ü—Ä–∏—á–∏–Ω–∞ 2 ‚Äî –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ NTP –≤ —Å—Ç—Ä–∞–Ω–∞—Ö —Å —Ü–µ–Ω–∑—É—Ä–æ–π.** –í –ò—Ä–∞–Ω–µ –∏ –ö–∏—Ç–∞–µ NTP-—Å–µ—Ä–≤–µ—Ä—ã Google (`time.android.com`) –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã –∏–ª–∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã. Android –Ω–µ –º–æ–∂–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤—Ä–µ–º—è. Dual-SIM –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–æ–∂–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å —á–µ—Ä–µ–∑ NITZ. –ö–∞—Å—Ç–æ–º–Ω—ã–µ ROM/—Ä—É—Ç–æ–≤–∞–Ω–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è.

**–ü—Ä–∏—á–∏–Ω–∞ 3 ‚Äî VPS –±–µ–∑ NTP.** –ï—Å–ª–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω–µ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω chrony/ntpd, –≤—Ä–µ–º—è —Å–µ—Ä–≤–µ—Ä–∞ –¥—Ä–µ–π—Ñ—É–µ—Ç. –û—Å–æ–±–µ–Ω–Ω–æ –∞–∫—Ç—É–∞–ª—å–Ω–æ –¥–ª—è –¥–µ—à—ë–≤—ã—Ö VPS. Timestamp —Ç–æ—á–µ–Ω –¥–æ —Å–µ–∫—É–Ω–¥—ã, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π `maxTimeDiff: 60000` –º—Å –º–∏–Ω–∏–º—É–º.

**–ü—Ä–∏—á–∏–Ω–∞ 4 ‚Äî –†–∞–∑–ª–∏—á–∏—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ Xray-core –∏ sing-box.** sing-box –∏–º–µ–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é Reality-–∫–ª–∏–µ–Ω—Ç–∞ —Å –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –¥—Ä—É–≥–∏–º —Ñ–æ—Ä–º–∞—Ç–æ–º/—Ç–æ—á–Ω–æ—Å—Ç—å—é timestamp –≤ SessionID. –ü—Ä–∏ –∫—Ä–æ—Å—Å-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ (sing-box –∫–ª–∏–µ–Ω—Ç + Xray-core —Å–µ—Ä–≤–µ—Ä) –≤–æ–∑–º–æ–∂–Ω–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è timestamp.

---

## –û–±—â–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –≤—ã–≤–æ–¥—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

–ò–∑ –∞–Ω–∞–ª–∏–∑–∞ –≤—Å–µ—Ö 40 –ø—Ä–æ–±–ª–µ–º –≤—ã–¥–µ–ª—è—é—Ç—Å—è **–ø—è—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∫–æ—Ä–Ω–µ–≤—ã—Ö –ø—Ä–∏—á–∏–Ω**, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ—Ä–æ–∂–¥–∞—é—Ç –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –±–∞–≥–æ–≤ –∏ –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–µ–Ω —É—á–∏—Ç—ã–≤–∞—Ç—å –ª—é–±–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–æ–≤–æ–≥–æ VPN-–∫–ª–∏–µ–Ω—Ç–∞ –Ω–∞ VLESS+Reality.

–ü–µ—Ä–≤–∞—è ‚Äî **—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —ç–∫–æ—Å–∏—Å—Ç–µ–º Xray-core –∏ sing-box**. –î–≤–∞ —è–¥—Ä–∞ —Ä–∞—Å—Ö–æ–¥—è—Ç—Å—è –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ (XHTTP, Reality SessionID), —Ñ–æ—Ä–º–∞—Ç–∞—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ —Ñ–∏–ª–æ—Å–æ—Ñ–∏–∏ —Ä–∞–∑–≤–∏—Ç–∏—è. –ö–ª–∏–µ–Ω—Ç, –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–π –∫ –æ–¥–Ω–æ–º—É —è–¥—Ä—É, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Å–ª–µ–¥—É–µ—Ç –µ–≥–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç —Å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø–æ–¥ –¥—Ä—É–≥–æ–µ.

–í—Ç–æ—Ä–∞—è ‚Äî **–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –º–æ–±–∏–ª—å–Ω—ã—Ö OS**. Android VpnService API –ø—Ä–∏–º–∏—Ç–∏–≤–µ–Ω (–Ω–µ—Ç per-port routing, –Ω–µ—Ç callback —Å–º–µ–Ω—ã —Å–µ—Ç–∏, –æ–¥–∏–Ω TUN –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ). iOS Network Extension –∏–º–µ–µ—Ç –∂—ë—Å—Ç–∫–∏–π –ª–∏–º–∏—Ç –ø–∞–º—è—Ç–∏ 15‚Äì50 –ú–ë, Apple –æ–±—Ö–æ–¥–∏—Ç VPN –¥–ª—è —Å–≤–æ–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ by design, –∏ encrypted DNS –ª–æ–º–∞–µ—Ç Siri. OEM-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–∏ (Xiaomi, Huawei, Samsung) –¥–æ–±–∞–≤–ª—è—é—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã kill, –Ω–µ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤ Android SDK.

–¢—Ä–µ—Ç—å—è ‚Äî **silent failure –∫–∞–∫ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ø—Ä–∏–Ω—Ü–∏–ø Reality**. –ú–æ–ª—á–∞–ª–∏–≤—ã–π fallback ‚Äî –æ—Å–Ω–æ–≤–∞ –∞–Ω—Ç–∏–¥–µ—Ç–µ–∫—Ü–∏–∏, –Ω–æ –æ–Ω –∂–µ –¥–µ–ª–∞–µ—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ–π: –∫–ª–∏–µ–Ω—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç ¬´connected¬ª, —Å–µ—Ä–≤–µ—Ä –ø–∏—à–µ—Ç `processed invalid connection`, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç –Ω–∏–∫–∞–∫–æ–π –æ—à–∏–±–∫–∏. –õ—é–±–æ–π –Ω–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω—É—é –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É —á–µ—Ä–µ–∑ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–∞–Ω–∞–ª.

–ß–µ—Ç–≤—ë—Ä—Ç–∞—è ‚Äî **–æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–≤**. –ù–µ—Ç RFC –¥–ª—è vless:// URI, –Ω–µ—Ç schema versioning –∫–æ–Ω—Ñ–∏–≥–æ–≤, –Ω–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞ subscription update. –ö–∞–∂–¥—ã–π –∫–ª–∏–µ–Ω—Ç –ø–∞—Ä—Å–∏—Ç –ø–æ-—Å–≤–æ–µ–º—É, –∫–∞–∂–¥–∞—è –ø–∞–Ω–µ–ª—å –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø–æ-—Å–≤–æ–µ–º—É. –†–µ–∑—É–ª—å—Ç–∞—Ç ‚Äî **6 –∏–∑ 40 –ø—Ä–æ–±–ª–µ–º** (6, 17, 19, 27, 28, 36) –≤—ã–∑–≤–∞–Ω—ã –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å—é —Ñ–æ—Ä–º–∞—Ç–æ–≤.

–ü—è—Ç–∞—è ‚Äî **bus factor –∏ sustainability**. –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–µ–∫—Ç—ã (Xray-core ‚Äî RPRX, NekoRay ‚Äî –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω, v2rayA ‚Äî –∑–∞–±—Ä–æ—à–µ–Ω) –∑–∞–≤–∏—Å—è—Ç –æ—Ç 1‚Äì2 —á–µ–ª–æ–≤–µ–∫. Open-source –∫–ª–∏–µ–Ω—Ç—ã –Ω–µ –∏–º–µ—é—Ç —É—Å—Ç–æ–π—á–∏–≤–æ–π –º–æ–¥–µ–ª–∏ –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏, closed-source ‚Äî –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ–º—ã –Ω–∞ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å. –≠—Ç–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–µ —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã –æ–±—Ö–æ–¥–∞ —Ü–µ–Ω–∑—É—Ä—ã.